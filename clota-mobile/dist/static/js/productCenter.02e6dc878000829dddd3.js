webpackJsonp([3],{"+Rt/":function(t,e){},"+bzR":function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-wrap"},[a("div",{staticClass:"line"}),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.$t(t.title)))])])},staticRenderFns:[]};var r=a("VU/8")({props:["title"],components:{},data:function(){return{}}},i,!1,function(t){a("MGPD")},"data-v-5b7bce95",null);e.a=r.exports},"/YAZ":function(t,e,a){"use strict";var i=a("DB50"),r=a("dR26"),l=a("TLh+"),s=a("n1nY"),o=a("2Uyi"),n={props:{},components:{tableCom:i.a,titlePark:r.a},data:function(){var i=this,t={emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}},e=function(e,t,a){t&&o.a.validateInteger(t).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})};return{type:"add",title:this.$t("add")+this.$t("oneTicketPark"),visible:!1,confirmCallback:null,cancelCallback:null,formData:{choosePark:"",saleType:"one",peopleEnterTimes:"",dayEnterTimes:"",equipmentGroup:"",enterCheckPlace:"",otherSet:["fingerprint"],projectTotalTimes:"",addProjectGroup:[]},ruleValidate:{choosePark:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("productName")}),trigger:"change"}],saleType:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("saleType")}),trigger:"change"}],peopleEnterTimes:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("peopleEnterTimes")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("peopleEnterTimes"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],dayEnterTimes:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("dayEnterTimes")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("dayEnterTimes"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],projectTotalTimes:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("projectTotalTimes")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("projectTotalTimes"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}]},enumData:{choosePark:[],saleType:l.p,group:[],authenticationType:l.a},distributeColumnHead:s.a,viewDistributeColumnHead:s.d,distributeTableData:[{id:"1",name:"闸机A",status:"true"},{id:"2",name:"闸机B",status:"false"}],proGroupColumnHead:s.c,proGroupTableData:[{id:"1",name:"旋转木马",times:3,day:3,play:"true"},{id:"2",name:"摩天轮",times:3,day:3,play:"false"},{id:"3",name:"过山车",times:0,day:0,play:"false"}]}},methods:{changeSaleType:function(e){var a=this,t=this.enumData.saleType.find(function(t){return e===t.value});this.title=t&&"one_ticket"===e?this.$t(this.type)+this.$t("oneTicketPark"):this.$t(this.type)+this.$t("moreTicketPark"),this.$nextTick(function(){var t="";"one_ticket"===a.formData.saleType?t="oneTicketFormValidate":"assort"===a.formData.saleType&&(t="moreTicketFormValidate"),t&&a.$refs[t].resetFields()})},changeEquipmentGroup:function(t){console.log(t)},changeProjectGroup:function(t){console.log(t)},startUse:function(t){console.log(t)},disabled:function(t){console.log(t)},setAblePlay:function(t){console.log(t)},setMustPlay:function(t){console.log(t)},checkTimes:function(t){console.log(t)},jumpForExample:function(){console.log("跳转进入示例页面")},confirm:function(){var e=this,t="";"one_ticket"===this.formData.saleType?t="oneTicketFormValidate":"assort"===this.formData.saleType&&(t="moreTicketFormValidate"),t&&this.$refs[t].validate(function(t){t&&(e.loading=!0,e.confirmCallback&&(e.confirmCallback(e.formData),e.cancel()))})},cancel:function(){this.visible=!1,this.$refs.oneTicketFormValidate&&this.$refs.oneTicketFormValidate.resetFields(),this.$refs.moreTicketFormValidate&&this.$refs.moreTicketFormValidate.resetFields(),this.cancelCallback&&this.cancelCallback()},show:function(t){var e=t.data,a=t.type,i=t.title,r=t.confirmCallback,l=void 0===r?null:r,s=t.cancelCallback;this.visible=!0,this.title=i,this.type=a,e&&e.id&&(this.formData=e),l&&"function"==typeof l&&(this.confirmCallback=l),s&&"function"==typeof s&&(this.cancelCallback=s)}}},c={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("Modal",{staticClass:"edit-park-modal",attrs:{title:"Title","mask-closable":!1,"class-name":"vertical-center-modal"},model:{value:a.visible,callback:function(t){a.visible=t},expression:"visible"}},[i("div",{staticClass:"target-class",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"title"},[a._v("\n            "+a._s(a.title)+"\n        ")])]),a._v(" "),i("div",{staticClass:"content-info"},["one_ticket"===a.formData.saleType?i("Form",{key:"oneTicketFormValidate",ref:"oneTicketFormValidate",attrs:{model:a.formData,rules:a.ruleValidate,"label-position":"top"}},[i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("choosePark"),prop:"choosePark"}},[i("Select",{attrs:{disabled:"check"===a.type,placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.choosePark,callback:function(t){a.$set(a.formData,"choosePark",t)},expression:"formData.choosePark"}},a._l(a.enumData.park,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])})),a._v(" "),i("span",{directives:[{name:"title",rawName:"v-title",value:a.$t("chooseParkNotice"),expression:"$t('chooseParkNotice')"}],staticClass:"iconfont icon-help"})],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("saleType"),prop:"saleType"}},[i("Select",{attrs:{disabled:"check"===a.type,placeholder:a.$t("selectField",{msg:""})},on:{"on-change":a.changeSaleType},model:{value:a.formData.saleType,callback:function(t){a.$set(a.formData,"saleType",t)},expression:"formData.saleType"}},a._l(a.enumData.saleType,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])})),a._v(" "),"one_ticket"===a.formData.saleType?i("span",{staticClass:"notice"},[a._v(a._s(a.$t("oneTicketNotice")))]):a._e(),a._v(" "),"assort"===a.formData.saleType?i("span",{staticClass:"notice"},[a._v(a._s(a.$t("moreTicketNotice")))]):a._e()],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{prop:"Times"}},[i("span",[a._v(a._s(a.$t("预定时指定游玩日期。入园后，门票")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.peopleEnterTimes,callback:function(t){a.$set(a.formData,"peopleEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.peopleEnterTimes"}}),a._v(" "),i("span",[a._v(a._s(a.$t("天有效，一共可入园/观影")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.dayEnterTimes,callback:function(t){a.$set(a.formData,"dayEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.dayEnterTimes"}}),a._v(" "),i("span",[a._v(a._s(a.$t("次")))])],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{prop:"Times"}},[i("span",[a._v(a._s(a.$t("在销售政策适用游玩期限内，可入园/观影")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.dayEnterTimes,callback:function(t){a.$set(a.formData,"dayEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.dayEnterTimes"}}),a._v(" "),i("span",[a._v(a._s(a.$t("次")))])],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("selectField",{msg:a.$t("equipmentGroup")}),prop:"equipmentGroup"}},[i("Select",{attrs:{disabled:"check"===a.type,placeholder:a.$t("selectField",{msg:""})},on:{"on-change":a.changeEquipmentGroup},model:{value:a.formData.equipmentGroup,callback:function(t){a.$set(a.formData,"equipmentGroup",t)},expression:"formData.equipmentGroup"}},a._l(a.enumData.group,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("enterCheckPlace"),prop:"enterCheckPlace"}},["check"===a.type?i("table-com",{attrs:{"table-com-min-height":250,"column-data":a.viewDistributeColumnHead,"table-data":a.distributeTableData,border:!1}}):i("table-com",{attrs:{"table-com-min-height":250,"column-data":a.distributeColumnHead,"table-data":a.distributeTableData,border:!1},scopedSlots:a._u([{key:"column2",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""},scopedSlots:a._u([{key:"default",fn:function(t){return[i("span",[a._v(a._s("true"===t.row.status?a.$t("startingUse"):a.$t("unStarting")))])]}}])})}},{key:"column3",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},["false"===e.row.status?i("li",{staticClass:"normal",on:{click:function(t){a.startUse(e.row)}}},[a._v(a._s(a.$t("commissioned")))]):i("li",{staticClass:"span-yellow",on:{click:function(t){a.disabled(e.row)}}},[a._v(a._s(a.$t("disabled")))])])]}}])})}}])})],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{label:a.$t("otherSet"),prop:"otherSet"}},[i("CheckboxGroup",{model:{value:a.formData.otherSet,callback:function(t){a.$set(a.formData,"otherSet",t)},expression:"formData.otherSet"}},a._l(a.enumData.authenticationType,function(t,e){return i("Checkbox",{key:e,attrs:{disabled:"check"===a.type,label:t.value}},[a._v("\n                                "+a._s(a.$t(t.label)))])}))],1)],1)],1)],1):a._e(),a._v(" "),"assort"===a.formData.saleType?i("Form",{key:"moreTicketFormValidate",ref:"moreTicketFormValidate",attrs:{model:a.formData,rules:a.ruleValidate,"label-position":"top"}},[i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("choosePark"),prop:"choosePark"}},[i("Select",{attrs:{disabled:"check"===a.type,placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.choosePark,callback:function(t){a.$set(a.formData,"choosePark",t)},expression:"formData.choosePark"}},a._l(a.enumData.park,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])})),a._v(" "),i("span",{directives:[{name:"title",rawName:"v-title",value:a.$t("chooseParkNotice"),expression:"$t('chooseParkNotice')"}],staticClass:"iconfont icon-help"})],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("saleType"),prop:"saleType"}},[i("Select",{attrs:{disabled:"check"===a.type,placeholder:a.$t("selectField",{msg:""})},on:{"on-change":a.changeSaleType},model:{value:a.formData.saleType,callback:function(t){a.$set(a.formData,"saleType",t)},expression:"formData.saleType"}},a._l(a.enumData.saleType,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])})),a._v(" "),"one_ticket"===a.formData.saleType?i("span",{staticClass:"notice"},[a._v(a._s(a.$t("oneTicketNotice")))]):a._e(),a._v(" "),"assort"===a.formData.saleType?i("span",{staticClass:"notice"},[a._v(a._s(a.$t("moreTicketNotice")))]):a._e()],1)],1)],1),a._v(" "),i("title-park",{attrs:{title:"enterCheck"}}),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{prop:"Times"}},[i("span",[a._v(a._s(a.$t("预定时指定游玩日期。入园后，门票")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.peopleEnterTimes,callback:function(t){a.$set(a.formData,"peopleEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.peopleEnterTimes"}}),a._v(" "),i("span",[a._v(a._s(a.$t("天有效，一共可入园/观影")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.dayEnterTimes,callback:function(t){a.$set(a.formData,"dayEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.dayEnterTimes"}}),a._v(" "),i("span",[a._v(a._s(a.$t("次")))])],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{prop:"Times"}},[i("span",[a._v(a._s(a.$t("在销售政策适用游玩期限内，可入园/观影")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.dayEnterTimes,callback:function(t){a.$set(a.formData,"dayEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.dayEnterTimes"}}),a._v(" "),i("span",[a._v(a._s(a.$t("次")))])],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("selectField",{msg:a.$t("equipmentGroup")}),prop:"equipmentGroup"}},[i("Select",{attrs:{disabled:"check"===a.type,placeholder:a.$t("selectField",{msg:""})},on:{"on-change":a.changeEquipmentGroup},model:{value:a.formData.equipmentGroup,callback:function(t){a.$set(a.formData,"equipmentGroup",t)},expression:"formData.equipmentGroup"}},a._l(a.enumData.group,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("enterCheckPlace"),prop:"enterCheckPlace"}},["check"===a.type?i("table-com",{attrs:{"table-com-min-height":250,"column-data":a.viewDistributeColumnHead,"table-data":a.distributeTableData,border:!1}}):i("table-com",{attrs:{"table-com-min-height":250,"column-data":a.distributeColumnHead,"table-data":a.distributeTableData,border:!1},scopedSlots:a._u([{key:"column2",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""},scopedSlots:a._u([{key:"default",fn:function(t){return[i("span",[a._v(a._s("true"===t.row.status?a.$t("startingUse"):a.$t("unStarting")))])]}}])})}},{key:"column3",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},["false"===e.row.status?i("li",{staticClass:"normal",on:{click:function(t){a.startUse(e.row)}}},[a._v(a._s(a.$t("commissioned")))]):i("li",{staticClass:"span-yellow",on:{click:function(t){a.disabled(e.row)}}},[a._v(a._s(a.$t("disabled")))])])]}}])})}}])})],1)],1)],1),a._v(" "),i("title-park",{attrs:{title:"playProject"}}),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{label:a.$t("projectTotalTimes"),prop:"projectTotalTimes"}},[i("Input",{attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.projectTotalTimes,callback:function(t){a.$set(a.formData,"projectTotalTimes","string"==typeof t?t.trim():t)},expression:"formData.projectTotalTimes"}})],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("addProjectGroup"),prop:"addProjectGroup"}},[i("Select",{attrs:{disabled:"check"===a.type,multiple:!0,clearable:!0,placeholder:a.$t("selectField",{msg:""})},on:{"on-change":a.changeProjectGroup},model:{value:a.formData.addProjectGroup,callback:function(t){a.$set(a.formData,"addProjectGroup",t)},expression:"formData.addProjectGroup"}},a._l(a.enumData.saleType,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                                ")])})),a._v(" "),i("span",{staticClass:"example",on:{click:a.jumpForExample}},[a._v(a._s(a.$t("example")))]),a._v(" "),i("div",{staticClass:"table-wrap"},[i("table-com",{attrs:{"table-com-min-height":250,"column-data":a.proGroupColumnHead,"table-data":a.proGroupTableData,border:!1},scopedSlots:a._u([{key:"column2",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""},scopedSlots:a._u([{key:"default",fn:function(e){return[i("InputNumber",{attrs:{max:9999999999,min:1,placeholder:a.$t("inputField",{field:""})},on:{"on-blur":function(t){a.checkTimes(e.row)}},model:{value:e.row.times,callback:function(t){a.$set(e.row,"times","string"==typeof t?t.trim():t)},expression:"scope.row.times"}})]}}])})}},{key:"column3",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""},scopedSlots:a._u([{key:"default",fn:function(e){return[i("InputNumber",{attrs:{max:9999999999,min:1,placeholder:a.$t("inputField",{field:""})},on:{"on-blur":function(t){a.checkTimes(e.row)}},model:{value:e.row.day,callback:function(t){a.$set(e.row,"day","string"==typeof t?t.trim():t)},expression:"scope.row.day"}})]}}])})}},{key:"column4",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},["check"===a.type?["true"===e.row.play?i("li",{staticClass:"normal"},[a._v(a._s(a.$t("必玩项")))]):i("li",{staticClass:"normal"},[a._v(a._s(a.$t("可玩项")))])]:["true"===e.row.play?i("li",{staticClass:"normal",on:{click:function(t){a.setAblePlay(e.row)}}},[a._v(a._s(a.$t("setAblePlay")))]):i("li",{staticClass:"normal",on:{click:function(t){a.setMustPlay(e.row)}}},[a._v(a._s(a.$t("setMustPlay")))])]],2)]}}])})}}])})],1)],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{label:a.$t("otherSet"),prop:"otherSet"}},[i("CheckboxGroup",{model:{value:a.formData.otherSet,callback:function(t){a.$set(a.formData,"otherSet",t)},expression:"formData.otherSet"}},a._l(a.enumData.authenticationType,function(t,e){return i("Checkbox",{key:e,attrs:{disabled:"check"===a.type,label:t.value}},[a._v("\n                                "+a._s(a.$t(t.label)))])}))],1)],1)],1)],1):a._e()],1),a._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},["check"!==a.type?[i("Button",{staticClass:"ivu-btn-90px",attrs:{type:"primary"},on:{click:a.confirm}},[a._v(a._s(a.$t("confirm")))]),a._v(" "),i("Button",{staticClass:"ivu-btn-90px",attrs:{type:"ghost"},on:{click:a.cancel}},[a._v(a._s(a.$t("cancel")))])]:[i("Button",{staticClass:"ivu-btn-90px",attrs:{type:"ghost"},on:{click:a.cancel}},[a._v(a._s(a.$t("back")))])]],2)])},staticRenderFns:[]};var d=a("VU/8")(n,c,!1,function(t){a("acmb")},"data-v-e7ab7fb0",null);e.a=d.exports},"1blD":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({data:function(){return{}},methods:{}},i,!1,function(t){a("KF74")},"data-v-dbebacba",null);e.default=r.exports},"35nC":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({data:function(){return{}},methods:{}},i,!1,function(t){a("fAow")},"data-v-34f17c90",null);e.default=r.exports},"4N2j":function(t,e){},"4pwX":function(t,e){},B6Sw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("fZjL"),r=a.n(i),l=a("rVNw"),s=a("+bzR"),o=a("DB50"),n=a("7dVJ"),c=[{title:"产品名称",width:160,field:"parkName"},{title:"景区成本价",minWidth:150,field:"saleType"},{title:"产品单价",minWidth:130,field:"itemCheckTimes"},{title:"限制库存",width:150,field:""}],d=[{title:"选择销售渠道分组",width:200,field:"id"},{title:"已选中的销售渠道",minWidth:300,field:"name"}],m=[{title:"类型",width:250,field:"id"},{title:"等级",minWidth:250,field:"name"}],u=[{title:"退票申请期限",width:300,field:"year"},{title:"退票手续费率",minWidth:100,field:"month"}],p={mixins:[n.a],components:{breadCrumbHead:l.a,titleTemp:s.a,tableCom:o.a},data:function(){return{type:"add",beforeRouterList:[{name:"marketingPolicy",router:"marketingPolicy"}],detail:{policyChannels:[{allocationId:"1040526354644340736",createUser:"1037976274619994112",createdTime:"2018-09-14 17:03:10",groupId:"1040477916850425856",groupName:"xt优质销售组1",groupchannels:"xt销售渠道1,xt销售渠道2,",id:"1040526354963107840",isDeleted:"false",policyId:"1040526353243443200",updateUser:"1037976274619994112",updatedTime:"2018-09-14 17:03:10"},{allocationId:"1040526354644340736",createUser:"1037976274619994112",createdTime:"2018-09-14 17:03:10",groupId:"1040478245901963264",groupName:"xt普通销售组2",groupchannels:"xt销售渠道3,xt销售渠道4,",id:"1040526355269292032",isDeleted:"false",policyId:"1040526353243443200",updateUser:"1037976274619994112",updatedTime:"2018-09-14 17:03:10"}],policyItems:[],productPolicy:{alterRuleModel:{alterNum:"1",befPlayLatestDays:"2",type:"noAudit"},playRuleModel:{afterDay:null,beforeDay:null,endTime:"2018-10-31",specifiedTime:"",startTime:"2018-10-01",type:"specifiedPeriodSold",validDates:null,weekSold:"1,2,3,4,5,6,7"},returnRuleModel:{rules:[{befPlayStart:"0",befPlayEnd:"0",procedureRates:"2"},{befPlayEnd:"7",befPlayStart:"1",procedureRates:"0.1"}],type:"noAudit"},saleRuleModel:{afterDay:null,beforeDay:null,endTime:"2018-09-30",specifiedTime:"",startTime:"2018-09-01",type:"specifiedPeriodSold",validDates:null,weekSold:"1,2,3,4,5"},auditStatus:"auditing",checkinTime:"09:00-18:00",delayValidTime:"5",id:"1040526353243443200",name:"xt销售政策1",orgId:"1037976274619994113",policyDesc:"xt销售政策1说明43454345",productType:"ticket",saleEndTime:"20:00",saleStartTime:"08:00",todaySaleEndTime:"18:00",todaySaleStartTime:"09:00",isDeleted:"false",createUser:"1037976274619994112",createdTime:"2018-09-14 17:03:09",productPolicyPlayRule:{afterDay:null,beforeDay:null,endTime:"2018-10-31",specifiedTime:"",startTime:"2018-10-01",type:"specifiedPeriodSold",validDates:null,weekSold:"1,2,3,4,5,6,7"},productPolicySoldRule:{afterDay:null,beforeDay:null,endTime:"2018-09-30",specifiedTime:"",startTime:"2018-09-01",type:"specifiedPeriodSold",validDates:null,weekSold:"1,2,3,4,5"},alterRule:'{"type":"noAudit","befPlayLatestDays":"2","alterNum":"1"}',playRule:'{"type":"specifiedPeriodSold","beforDay":"","afterDay":"","startTime":"2018-10-01","endTime":"2018-10-31","weekSold":"1,2,3,4,5,6,7","specifiedTime":""}',returnRule:'{"type":"noAudit","rules":[{"befPlayStart":"0","befPlayEnd":"0","procedureRates":"0.2"},{"befPlayStart":"1","befPlayEnd":"7","procedureRates":"0.1"}]}',saleRule:'{"type":"specifiedPeriodSold","beforDay":"","afterDay":"","startTime":"2018-09-01","endTime":"2018-09-30","weekSold":"1,2,3,4,5","specifiedTime":""}',updateUser:"1037976274619994112",updatedTime:"2018-09-14 17:03:09"}},productColumn:c,saleChannelColumn:d,marketingColumn:m,refundColumn:u}},methods:{viewParkDetail:function(t){console.log(t)},submit:function(){},showDetailModal:function(){this.$router.push({name:"addTicket",params:{type:"modify",info:this.detail}})},getParams:function(t){t&&r()(t).length}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ticket-detail"},[a("bread-crumb-head",{attrs:{"before-router-list":t.beforeRouterList,"locale-router":t.$t("marketingPolicyDetail")}}),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"title-wrap"},[a("span",[t._v(t._s(t.$t("销售政策详情")))])]),t._v(" "),a("Form",{ref:"formValidate",attrs:{model:t.detail}},[a("div",{staticClass:"form-content"},[a("i-row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("销售政策名称")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.productPolicy.name,expression:"detail.productPolicy.name"}]},[t._v(t._s(t._f("contentFilter")(t.detail.productPolicy.name)))])])],1),t._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("描述")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.productPolicy.policyDesc,expression:"detail.productPolicy.policyDesc"}]},[t._v(t._s(t._f("contentFilter")(t.detail.productPolicy.policyDesc)))])])],1)],1),t._v(" "),a("i-row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("政策可售期")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.name,expression:"detail.name"}]},[t._v(t._s(t._f("contentFilter")(t.detail.name)))])])],1),t._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("提前天数（M）")+"："}},[a("div",[t._v(t._s(t._f("contentFilter")(t.detail.describe)))])])],1)],1),t._v(" "),a("i-row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("每日可售时间")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.name,expression:"detail.name"}]},[t._v(t._s(t._f("contentFilter")(t.detail.name)))])])],1),t._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("当日票可售时间")+"："}},[a("div",[t._v(t._s(t._f("contentFilter")(t.detail.describe)))])])],1)],1)],1),t._v(" "),a("div",{staticClass:"form-content"},[a("i-row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("游玩期限")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.name,expression:"detail.name"}]},[t._v(t._s(t._f("contentFilter")(t.detail.name)))])])],1),t._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("指定起止日期")+"："}},[a("div",[t._v(t._s(t._f("contentFilter")(t.detail.describe)))])])],1)],1),t._v(" "),a("i-row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("每周可玩日期")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.name,expression:"detail.name"}]},[t._v(t._s(t._f("contentFilter")(t.detail.name)))])])],1),t._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("入园时间控制")+"："}},[a("div",[t._v(t._s(t._f("contentFilter")(t.detail.describe)))])])],1)],1),t._v(" "),a("i-row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("下单后延迟生效")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.name,expression:"detail.name"}]},[t._v(t._s(t._f("contentFilter")(t.detail.name)))])])],1),t._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("当日票可售时间")+"："}},[a("div",[t._v(t._s(t._f("contentFilter")(t.detail.describe)))])])],1)],1)],1),t._v(" "),a("div",{staticClass:"form-content",style:{height:0<t.detail.policyItems.length?50*(t.detail.policyItems.length+1)+80+"px":"280px"}},[a("Form-item",{attrs:{label:t.$t("产品列表")+"："}},[a("div",[a("table-com",{attrs:{ofsetHeight:755,"show-pagination":!0,"table-com-min-height":260,"column-data":t.productColumn,"table-data":t.detail.policyItems,border:!1}})],1)])],1),t._v(" "),a("div",{staticClass:"form-content line",style:{height:50*(t.detail.policyChannels.length+1)+60+"px"}},[a("Form-item",{attrs:{label:t.$t("销售渠道")+"："}},[a("div",[a("table-com",{attrs:{ofsetHeight:755,"show-pagination":!0,"table-com-min-height":260,"column-data":t.saleChannelColumn,"table-data":t.detail.policyChannels,border:!1}})],1)])],1),t._v(" "),a("div",{staticClass:"form-content",style:{height:50*(t.detail.productPolicy.returnRuleModel.rules.length+1)+50+"px"}},[a("Form-item",{attrs:{label:t.$t("退改规则")+"："}},[a("div",[a("span",[t._v(t._s(t._f("contentFilter")(t.detail.describe)))]),t._v(" "),a("table-com",{attrs:{ofsetHeight:755,"table-com-min-height":260,"column-data":t.refundColumn,"table-data":t.detail.productPolicy.returnRuleModel.rules,border:!1}})],1)])],1),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"form-content line"},[a("i-row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("改签规则")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.name,expression:"detail.name"}]},[t._v(t._s(t._f("contentFilter")(t.detail.name)))])])],1),t._v(" "),a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("最晚改签日期")+"："}},[a("div",[t._v(t._s(t._f("contentFilter")(t.detail.describe)))])])],1)],1),t._v(" "),a("i-row",[a("i-col",{attrs:{span:"12"}},[a("Form-item",{attrs:{label:t.$t("购票须知")+"："}},[a("div",{directives:[{name:"w-title",rawName:"v-w-title",value:t.detail.name,expression:"detail.name"}]},[t._v(t._s(t._f("contentFilter")(t.detail.name)))])])],1)],1)],1)])],1),t._v(" "),a("div",{staticClass:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(t._s(t.$t("commitCheck")))]),t._v(" "),a("Button",{attrs:{type:"ghost"}},[t._v(t._s(t.$t("cancel")))])],1)],1)},staticRenderFns:[]};var v=a("VU/8")(p,f,!1,function(t){a("+Rt/")},"data-v-8eda52ee",null);e.default=v.exports},KF74:function(t,e){},MGPD:function(t,e){},MKAT:function(t,e){},"O1e/":function(t,e){},PJeu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("DB50"),r=a("g5kf"),l=a("gyMJ"),s=(a("gs2Y"),{components:{},data:function(){return{visible:!1,title:"addSalePolicy",formData:{industry:""},industryEnum:[],ruleValidate:{industry:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("industry")}),trigger:"change"}]}}},methods:{show:function(){this.visible=!0},formValidateFunc:function(){var a=this;this.$refs.formValidate.validate(function(t){if(t){var e={industry:a.formData.industry};a.updateChannelSet(e)}})},updateChannelSet:function(t){var e=this;l.a.post("updateChannelSet",t).then(function(t){t.success?(e.$Message.success(e.$t(e.title)+e.$t("successTip",{tip:""})+"！"),e.hide(),e.$emit("close-modal")):(console.log(t),e.$Message.warning("queryChannelSet "+e.$t("failureTip",{tip:"del"})+"！"))})},hide:function(){this.visible=!1,this.$refs.formValidate.resetFields(),this.formData={industry:""}}}}),o={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("Modal",{attrs:{title:a.$t(a.title),"class-name":"add-sale-policy-modal vertical-center-modal",width:"560","mask-closable":!1},on:{"on-cancel":a.hide},model:{value:a.visible,callback:function(t){a.visible=t},expression:"visible"}},[i("div",{staticClass:"modal-body"},[i("Form",{ref:"formValidate",attrs:{model:a.formData,rules:a.ruleValidate,"label-position":"top"}},[i("i-row",[i("i-col",{attrs:{span:"22"}},[i("Form-item",{attrs:{label:a.$t("industry")+"：",prop:"industry"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.industry,callback:function(t){a.$set(a.formData,"industry",t)},expression:"formData.industry"}},a._l(a.industryEnum,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1)],1)],1)],1),a._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:a.formValidateFunc}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.hide}},[a._v(a._s(a.$t("cancel")))])],1)])},staticRenderFns:[]};var n=a("VU/8")(s,o,!1,function(t){a("4pwX")},"data-v-748755da",null).exports,c=a("TLh+"),d=[{title:"salePolicyName",width:160,field:"id"},{title:"industryType",minWidth:200,field:"industryType"},{title:"desc",minWidth:120,field:"desc"},{title:"status",minWidth:120,field:"status"},{title:"saleChannelsGroup",minWidth:180,field:"saleChannelsGroup"},{title:"operate",width:100,field:""}],m=[{title:"salePolicyName",width:160,field:"id"},{title:"scenePlace",minWidth:150,field:"productCode"},{title:"industryType",minWidth:100,field:"industryType"},{title:"desc",minWidth:220,field:"desc"},{title:"superiorDistribution",minWidth:100,field:"superiorDistribution"},{title:"operate",minWidth:90,field:""}],u={components:{tableCom:i.a,delModal:r.a,addSalePolicyModal:n},props:{},data:function(){return{tabsName:"created",myPolicyHead:d,distributePolicyHead:m,myPolicyData:[],distPolicyData:[],myPolicyParams:{pageNo:1,pageSize:c.e.pageDefaultSize},queryParams:{scene:"",keyWord:"",pageNo:1,pageSize:c.e.pageDefaultSize},mTotal:0,dTotal:0,selectedRow:[],delUnits:"",enumData:{scene:[]},filterList:[{text:"已启用",value:"已启用"},{text:"未启用",value:"未启用"}],dropdownList:[{name:"check",value:"check"},{name:"up",value:"ip"},{name:"down",value:"down"},{name:"delete",value:"delete"}]}},computed:{},created:function(){this.queryDistPolicyList()},mounted:function(){},watch:{},methods:{changeTab:function(t){this.tabsName=t},queryMyPolicyList:function(){this.myPolicyData=[{id:"00002103965",productCode:"星火旅行社1",productName:"票内业态",productDesc:"银科环企智慧旅游平台】尊敬的$name(先生科环发快递了了二)",sellingOrg:"野生动物园",status:"已启用",updateTime:"2018-08-20 15:31:00"},{id:"00002103965",productCode:"星火旅行社2",productName:"票内业态",productDesc:"银科环企智慧旅游平台】尊敬的$name(先生科环发快递了了二)",sellingOrg:"冰雪世界",status:"已启用",updateTime:"2018-06-01 15:31:00"},{id:"00002103965",productCode:"星火旅行社3",productName:"票内业态",productDesc:"银科环企智慧旅游平台】尊敬的$name(先生科环发快递了了二)",sellingOrg:"野生动物园",status:"已启用",updateTime:"2018-04-17 15:31:00"},{id:"00002103965",productCode:"星火旅行社4",productName:"票内业态",productDesc:"银科环企智慧旅游平台】尊敬的$name(先生科环发快递了了二)",sellingOrg:"冰雪世界",status:"已启用",updateTime:"2018-03-17 15:31:00"}],this.mTotal=this.myPolicyData.length},queryDistPolicyList:function(){this.distPolicyData=[{id:"00002103965",productCode:"星火旅行社1",productName:"票内业态",productDesc:"银科环企智慧旅游平台】尊敬的$name(先生科环发快递了了二)",sellingOrg:"野生动物园",status:"已启用",updateTime:"2018-08-20 15:31:00"},{id:"00002103965",productCode:"星火旅行社2",productName:"票内业态",productDesc:"银科环企智慧旅游平台】尊敬的$name(先生科环发快递了了二)",sellingOrg:"冰雪世界",status:"已启用",updateTime:"2018-06-01 15:31:00"},{id:"00002103965",productCode:"星火旅行社3",productName:"票内业态",productDesc:"银科环企智慧旅游平台】尊敬的$name(先生科环发快递了了二)",sellingOrg:"野生动物园",status:"已启用",updateTime:"2018-04-17 15:31:00"},{id:"00002103965",productCode:"星火旅行社4",productName:"票内业态",productDesc:"银科环企智慧旅游平台】尊敬的$name(先生科环发快递了了二)",sellingOrg:"冰雪世界",status:"已启用",updateTime:"2018-03-17 15:31:00"}],this.dTotal=this.distPolicyData.length},addPolicy:function(){this.$refs.addSalePolicyModal&&this.$refs.addSalePolicyModal.show()},changeSelection:function(t){this.selectedRow=t},batchDel:function(){var t=this,e=this.selectedRow.map(function(t){return t.id}).join(",");this.delUnits=this.selectedRow.map(function(t){return t.productName}).join(","),console.log(e),this.$refs.delModal.show({title:this.$t("deleteBatch"),confirmCallback:function(){t.deletePolicy(e)}})},deletePolicy:function(t){var e=this;l.a.post("deletePolicy",{ids:t}).then(function(t){t.success?(e.$Message.success(e.$t("success")+e.$t("delete")),e.queryMyPolicyList()):e.$Message.error(t.message||e.$t("fail"))})},filterHandler:function(t,e){return e.status===t},handleCommand:function(t){console.log(t)},viewDetail:function(t){this.$router.push({name:"salePolicyDetail",params:{info:t}})}}},p={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"marketing-policy"},[i("div",{staticClass:"tabs-wrap"},[i("Tabs",{attrs:{animated:!1,value:a.tabsName},on:{"on-click":a.changeTab}},[i("TabPane",{attrs:{label:a.$t("mySalePolicy"),name:"created"}})],1)],1),a._v(" "),"created"===a.tabsName?i("div",{staticClass:"btn-wrap"},[i("Button",{attrs:{type:"primary"},on:{click:function(t){a.$router.push({name:"editSalePolicy",params:{type:"add"}})}}},[a._v("+ "+a._s(a.$t("add")))]),a._v(" "),i("Button",{attrs:{type:"primary"},on:{click:a.addPolicy}},[a._v("+ "+a._s(a.$t("addSalePolicy")))]),a._v(" "),i("Button",{attrs:{type:"error",disabled:!(0<a.selectedRow.length)},on:{click:a.batchDel}},[a._v(a._s(a.$t("batchOperate")))])],1):a._e(),a._v(" "),"cancellation"===a.tabsName?i("div",{staticClass:"btn-wrap"},[i("span",[a._v(a._s(a.$t("scenePlace"))+"：")]),a._v(" "),i("Select",{on:{"on-change":a.queryDistPolicyList},model:{value:a.queryParams.scene,callback:function(t){a.$set(a.queryParams,"scene",t)},expression:"queryParams.scene"}},a._l(a.enumData.scene,function(t,e){return i("Option",{key:e,attrs:{value:t.name}},[a._v(a._s(a.$t(t.desc))+"\n            ")])})),a._v(" "),i("div",{staticClass:"float-right"},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:a.$t("salePolicyName")})},model:{value:a.queryParams.keyWord,callback:function(t){a.$set(a.queryParams,"keyWord","string"==typeof t?t.trim():t)},expression:"queryParams.keyWord"}}),a._v(" "),i("Button",{attrs:{type:"primary"},on:{click:a.queryDistPolicyList}},[a._v(a._s(a.$t("query")))])],1)],1):a._e(),a._v(" "),"created"===a.tabsName?i("table-com",{attrs:{ofsetHeight:170,"show-pagination":!0,"column-data":a.myPolicyHead,"table-data":a.myPolicyData,"total-count":a.mTotal,"page-no-d":a.myPolicyParams.pageNo,"page-size-d":a.myPolicyParams.pageSize,border:!0,"column-check":!0},on:{"update:pageNoD":function(t){a.$set(a.myPolicyParams,"pageNo",t)},"update:pageSizeD":function(t){a.$set(a.myPolicyParams,"pageSize",t)},"query-data":a.queryMyPolicyList,"selection-change":a.changeSelection},scopedSlots:a._u([{key:"column3",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,filters:a.filterList,"filter-method":a.filterHandler,"filter-placement":"bottom-end","min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(t){return[i("div",["已启用"===t.row.status?i("span",{staticClass:"status-recharge pass"},[a._v(a._s(a.$t("startingUse")))]):a._e(),a._v(" "),"审核中"===t.row.status?i("span",{staticClass:"status-recharge reject"},[a._v(a._s(a.$t("checking")))]):a._e(),a._v(" "),"已驳回"===t.row.status?i("span",{staticClass:"status-recharge pending"},[a._v(a._s(a.$t("rejected")))]):a._e(),a._v(" "),"未启用"===t.row.status?i("span",{staticClass:"status-recharge pending"},[a._v(a._s(a.$t("unStarting")))]):a._e()])]}}])})}},{key:"column5",fn:function(t){return i("el-table-column",{attrs:{fixed:"right",label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"normal",on:{click:function(t){a.viewDetail(e.row)}}},[a._v(a._s(a.$t("check")))])])]}}])})}}])}):a._e(),a._v(" "),"cancellation"===a.tabsName?i("table-com",{attrs:{ofsetHeight:170,"show-pagination":!0,"column-data":a.distributePolicyHead,"table-data":a.distPolicyData,"total-count":a.dTotal,"page-no-d":a.queryParams.pageNo,"page-size-d":a.queryParams.pageSize,border:!0},on:{"update:pageNoD":function(t){a.$set(a.queryParams,"pageNo",t)},"update:pageSizeD":function(t){a.$set(a.queryParams,"pageSize",t)},"query-data":a.queryDistPolicyList},scopedSlots:a._u([{key:"column5",fn:function(t){return i("el-table-column",{attrs:{fixed:"right",label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(t){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"normal"},[a._v(a._s(a.$t("check")))]),a._v(" "),i("li",{staticClass:"normal"},[a._v(a._s(a.$t("distribution")))])])]}}])})}}])}):a._e(),a._v(" "),i("del-modal",{ref:"delModal"},[i("span",{staticClass:"content-text"},[a._v(a._s(a.$t("isDoing"))+a._s(a.$t("delete"))+"："),i("span",{staticClass:"yellow-label"},[a._v(a._s(a.delUnits))])]),a._v(" "),i("span",[i("span",{staticClass:"red-label"},[a._v(a._s(a.$t("irreversible")))]),a._v("，"+a._s(a.$t("continueYesRoNo"))+"？")])]),a._v(" "),i("add-sale-policy-modal",{ref:"addSalePolicyModal",on:{"close-modal":a.queryMyPolicyList}})],1)},staticRenderFns:[]};var f=a("VU/8")(u,p,!1,function(t){a("RrjX")},"data-v-8e8ad132",null);e.default=f.exports},QMfm:function(t,e){},RrjX:function(t,e){},SDPm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("fZjL"),r=a.n(i),l=a("rVNw"),s=a("+bzR"),o=a("DB50"),n=a("/YAZ"),c=a("7dVJ"),d=a("n1nY"),m=a("gyMJ"),u={mixins:[c.a],components:{breadCrumbHead:l.a,titleTemp:s.a,tableCom:o.a,editParkModal:n.a},data:function(){return{beforeRouterList:[{name:"ticketType",router:"ticketType"}],detail:{auditStatus:"auditing",code:"1039754625290473472",companyId:null,createdTime:"2018-09-12 13:56:35",productId:"1039754623965073408",inNum:"3",isGroup:"true",orgId:"1037976274619994113",printName:"打印名称-李瑜测试产品1",printPrice:"120",printRemark:"打印说明",printTpl:"",productDes:"李瑜测试产品1描述",productName:"李瑜测试产品1",productType:"ticket",standardPrice:"100",thirdCode:"123456789",ticketRemark:"票面说明",acceptIdType:"identity",createUser:"1",saleRuleId:"1039754623965073409",idLimit:'{"day":"5","quantity":"5"}',maxNum:"100",minNum:"10",mobileLimit:'{"day":"5","quantity":"5"}',needAllId:"",needId:"noRequired",stockNum:"10000",stockType:"is_no_limit",updateUser:null,productEffSet:"since_the_play",updatedTime:"2018-09-12 13:56:35"},productPlayRuleVo:[{checkPoint:[{checkId:"1037982966690746369",checkType:"garden",createUser:"1",createdTime:"2018-09-12 13:56:35",dayTimes:"2",id:"1039754624908791808",isDeleted:"false",orgId:"1037976274619994113",parkId:"1037976274619994113",playRuleId:"1039754623965073410",playType:"required",productId:"1039754623965073408",sumTimes:"7",updateUser:null,updatedTime:"2018-09-12 13:56:35"}],checkPoints:null,createUser:"1",createdTime:"2018-09-12 13:56:35",effDay:1,effTimes:1,fingerCheck:"true",id:"1039754623965073410",itemCheckTimes:"10",orgId:"1037976274619994113",parkId:"1037976274619994113",parkName:"魔法花园",productId:"1039754623965073408",saleType:"one_ticket",updateUser:null,updatedTime:"2018-09-12 13:56:35"}],logList:[{name:"张三",time:"2018/07/01  12:00",desc:"提交了审核"},{name:"李四",time:"2018/07/01  12:00",desc:"审核通过，启用产品"}],columnData:d.b,tableData:[{}]}},methods:{viewParkDetail:function(t){console.log(t),this.$refs.viewPark.show({data:t,title:this.$t("check")+this.$t(t.saleType),type:"check",confirmCallback:function(){console.log(!0)}})},submit:function(){},modify:function(){this.$router.push({name:"addTicket",params:{type:"modify",info:this.detail}})},findProductById:function(t){var e=this;m.a.post("findProductById",{productId:t.id}).then(function(t){t.success?(e.detail=t.data.productSaleVo||{},e.productPlayRuleVo=t.data.productPlayRuleVo||[]):(e.detail={},e.productPlayRuleVo=[],e.$Message.error(t.message||e.$t("fail")))})},getParams:function(t){t&&0<r()(t).length&&t.info&&this.findProductById(t.info)}}},p={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"ticket-detail"},[i("bread-crumb-head",{attrs:{"before-router-list":a.beforeRouterList,"locale-router":a.$t("ticketDetail")}}),a._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"title-wrap"},[i("span",[a._v(a._s(a.$t("ticketDetail")))]),a._v(" "),i("span",{staticClass:"yellow-span"},[a._v(a._s(a.$t("待审核")))]),a._v(" "),i("span",{staticClass:"green-span"},[a._v(a._s(a.$t("已启用")))]),a._v(" "),i("span",{staticClass:"red-span"},[a._v(a._s(a.$t("已驳回")))]),a._v(" "),i("span",{staticClass:"blue-span",on:{click:a.modify}},[i("i",{staticClass:"iconfont icon-edit"}),a._v(a._s(a.$t("modify")))])]),a._v(" "),i("Form",{ref:"formValidate",attrs:{model:a.detail}},[i("title-temp",{attrs:{title:"basicInfo"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("i-row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("productName")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.detail.productName,expression:"detail.productName"}]},[a._v(a._s(a._f("contentFilter")(a.detail.productName)))])])],1),a._v(" "),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("scenePrice")+"："}},[i("div",[a._v(a._s(a._f("contentFilter")(a.detail.standardPrice)))])])],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{label:a.$t("thirdProductNo")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.detail.thirdCode,expression:"detail.thirdCode"}]},[a._v(a._s(a._f("contentFilter")(a.detail.thirdCode)))])])],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{label:a.$t("productDesc")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.detail.productDes,expression:"detail.productDes"}]},[a._v(a._s(a._f("contentFilter")(a.detail.productDes)))])])],1)],1)],1),a._v(" "),i("title-temp",{attrs:{title:"ticketInfo"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("i-row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("printName")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.detail.printName,expression:"detail.printName"}]},[a._v(a._s(a._f("contentFilter")(a.detail.printName)))])])],1),a._v(" "),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("ticketPrice")+"："}},[i("div",[a._v(a._s(a._f("contentFilter")(a.detail.printPrice)))])])],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{label:a.$t("ticketDesc")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.detail.ticketRemark,expression:"detail.ticketRemark"}]},[a._v(a._s(a._f("contentFilter")(a.detail.ticketRemark)))])])],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{label:a.$t("printDesc")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.detail.printRemark,expression:"detail.printRemark"}]},[a._v(a._s(a._f("contentFilter")(a.detail.printRemark)))])])],1)],1)],1),a._v(" "),i("title-temp",{attrs:{title:"buyLimit"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("i-row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("isTeamProduct")+"："}},[i("div",[a._v(a._s("true"===a.detail.isGroup?a.$t("yes"):a.$t("no")))])])],1),a._v(" "),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("enterNum")+"："}},[i("div",[a._v(a._s(a._f("contentFilter")(a.detail.inNum)))])])],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("minOrderNum")+"："}},[i("div",[a._v(a._s(a._f("contentFilter")(a.detail.minNum)))])])],1),a._v(" "),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("maxOrderNum")+"："}},[i("div",[a._v(a._s(a._f("contentFilter")(a.detail.maxNum)))])])],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("orderToCommitVisitorIdInfo")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.$t(a.detail.needId),expression:"$t(detail.needId)"}]},[a._v(a._s(a.$t(a.detail.needId)))])])],1)],1),a._v(" "),"noRequired"!==a.detail.needId?i("i-row",[i("i-col",{attrs:{span:"24"}},[i("Form-item",{attrs:{label:a.$t("idType")+"："}},[a.detail.acceptIdType?[i("CheckboxGroup",{model:{value:a.detail.acceptIdType.split(","),callback:function(t){a.$set(a.detail.acceptIdType,"split(',')",t)},expression:"detail.acceptIdType.split(',')"}},a._l(a.detail.acceptIdType.split(","),function(t,e){return i("Checkbox",{key:e,attrs:{disabled:"",label:t}},[a._v("\n                                        "+a._s(a.$t(t))+"\n                                    ")])}))]:a._e()],2)],1)],1):a._e(),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("limitById")+"："}},[i("div",[i("span",{staticClass:"label"},[a._v(a._s(a.detail.idLimit?JSON.parse(a.detail.idLimit).day:"-"))]),a._v(" "),i("span",{staticClass:"label"},[a._v(a._s(a.$t("maxBuy")))]),a._v(" "),i("span",{staticClass:"label"},[a._v(a._s(a.detail.idLimit?JSON.parse(a.detail.idLimit).quantity:"-"))]),a._v(" "),i("span",[a._v(a._s(a.$t("paper")))])])])],1),a._v(" "),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("limitByMobile")+"："}},[i("div",[i("span",{staticClass:"label"},[a._v(a._s(a.detail.mobileLimit?JSON.parse(a.detail.mobileLimit).day:"-"))]),a._v(" "),i("span",{staticClass:"label"},[a._v(a._s(a.$t("maxBuy")))]),a._v(" "),i("span",{staticClass:"label"},[a._v(a._s(a.detail.mobileLimit?JSON.parse(a.detail.mobileLimit).quantity:"-"))]),a._v(" "),i("span",[a._v(a._s(a.$t("paper")))])])])],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("limitStore")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.$t(a.detail.stockType),expression:"$t(detail.stockType)"}]},[a._v(a._s(a._f("contentFilter")(a.$t(a.detail.stockType))))])])],1),a._v(" "),i("i-col",{attrs:{span:"12"}},[i("Form-item",{attrs:{label:a.$t("storeNum")+"："}},[i("div",[a._v(a._s(a._f("contentFilter")(a.detail.stockNum)))])])],1)],1)],1),a._v(" "),i("title-temp",{attrs:{title:"productEffect"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("i-row",[i("i-col",{attrs:{span:"11"}},[i("Form-item",{attrs:{label:a.$t("productEffectSet")+"："}},[i("div",{directives:[{name:"w-title",rawName:"v-w-title",value:a.$t(a.detail.productEffSet),expression:"$t(detail.productEffSet)"}]},[a._v(a._s(a._f("contentFilter")(a.$t(a.detail.productEffSet))))])])],1)],1)],1),a._v(" "),i("title-temp",{attrs:{title:"playRule"}}),a._v(" "),i("div",{staticClass:"form-content",style:{height:0<a.productPlayRuleVo.length?50*(a.productPlayRuleVo.length+1)+20+"px":"240px"}},[i("br"),a._v(" "),i("Form-item",{attrs:{label:a.$t("playPark")+"："}},[i("div",[i("table-com",{attrs:{ofsetHeight:755,"table-com-min-height":260,"column-data":a.columnData,"table-data":a.productPlayRuleVo,border:!1},scopedSlots:a._u([{key:"column3",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"normal",on:{click:function(t){a.viewParkDetail(e.row)}}},[a._v(a._s(a.$t("check")))])])]}}])})}}])})],1)])],1),a._v(" "),i("title-temp",{attrs:{title:"productLog"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("Timeline",a._l(a.logList,function(t,e){return i("TimelineItem",{key:e,attrs:{color:"#DFDFDF"}},[i("p",{staticClass:"time"},[a._v(a._s(t.time))]),a._v(" "),i("p",{staticClass:"content"},[i("span",{staticClass:"name"},[a._v(a._s(t.name))]),a._v(a._s(t.desc))])])}))],1)],1)],1),a._v(" "),i("div",{staticClass:"footer"},["auditing"===a.detail.auditStatus?[i("Button",{attrs:{type:"primary"},on:{click:a.submit}},[a._v(a._s(a.$t("commitCheck")))]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.modify}},[a._v(a._s(a.$t("modify")))])]:a._e(),a._v(" "),i("Button",{attrs:{type:"primary"}},[a._v(a._s(a.$t("disabled")))]),a._v(" "),i("Button",{attrs:{type:"ghost"}},[a._v(a._s(a.$t("checkPass")))]),a._v(" "),i("Button",{attrs:{type:"ghost"}},[a._v(a._s(a.$t("reject")))]),a._v(" "),i("Button",{attrs:{type:"ghost"}},[a._v(a._s(a.$t("revocation")))]),a._v(" "),i("Button",{attrs:{type:"ghost"}},[a._v(a._s(a.$t("back")))])],2),a._v(" "),i("edit-park-modal",{ref:"viewPark"})],1)},staticRenderFns:[]};var f=a("VU/8")(u,p,!1,function(t){a("hSjV")},"data-v-a45f7d22",null);e.default=f.exports},VdFR:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),r=a.n(i),l=a("fZjL"),s=a.n(l),o=a("rVNw"),n=a("+bzR"),c=a("DB50"),d=a("/YAZ"),m=a("7dVJ"),u=a("w9Mt"),p=a.n(u),f=a("gs2Y"),v=a.n(f),h=a("2Uyi"),y=a("n1nY"),g=a("TLh+"),_={mixins:[m.a],components:{breadCrumbHead:o.a,titleTemp:n.a,tableCom:c.a,editParkModal:d.a},data:function(){var i=this,t={emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}},e=function(e,t,a){t&&h.a.validateMoney(t).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t("errorMaxLength",{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})},a=function(e,t,a){t&&h.a.validateInteger(t).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})};return{beforeRouterList:[{name:"ticketType",router:"ticketType"}],type:"add",loading:!1,formData:{productName:"",scenePrice:"",thirdProductNo:"",productDesc:"",printName:"",ticketPrice:"",ticketDesc:"",printDesc:"",isTeamProduct:"yes",enterNum:"",minOrderNum:"10",maxOrderNum:"100",orderToCommitVisitorIdInfo:"noRequired",idType:["identity","passport"],limitByIdDay:"5",limitByIdNum:"5",limitByMobileDay:"5",limitByMobileNum:"5",limitStore:"is_no_limit",storeNum:"",productEffectSet:"dayToStart"},ruleValidate:{productName:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("productName")}),trigger:"blur"},{type:"string",max:50,message:this.$t("errorMaxLength",{field:this.$t("productName"),length:50}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],scenePrice:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("scenePrice")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("scenePrice"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],thirdProductNo:[{type:"string",max:50,message:this.$t("errorMaxLength",{field:this.$t("thirdProductNo"),length:50}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],productDesc:[{type:"string",max:500,message:this.$t("errorMaxLength",{field:this.$t("productDesc"),length:500}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],printName:[{type:"string",max:50,message:this.$t("errorMaxLength",{field:this.$t("printName"),length:50}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],ticketPrice:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("ticketPrice"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],ticketDesc:[{type:"string",max:500,message:this.$t("errorMaxLength",{field:this.$t("ticketDesc"),length:500}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],printDesc:[{type:"string",max:500,message:this.$t("errorMaxLength",{field:this.$t("printDesc"),length:500}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],enterNum:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("enterNum")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("enterNum"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],minOrderNum:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("minOrderNum"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],maxOrderNum:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("maxOrderNum"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],storeNum:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("storeNum"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],limitByIdDay:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("limitById"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"},{validator:function(e,t,a){(t||i.formData.limitByIdNum)&&h.a.validateInteger(i.formData.limitByIdNum).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})},trigger:"blur"}],limitByMobileDay:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("limitByMobile"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"},{validator:function(e,t,a){(t||i.formData.limitByMobileNum)&&h.a.validateInteger(i.formData.limitByMobileNum).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})},trigger:"blur"}]},enumData:{scene:[],isTeamProduct:g.i,orderInfo:g.m,idType:g.h,productEffectSet:g.n,limitStore:g.j},columnData:y.b,tableData:[{}]}},created:function(){},methods:{formValidateFunc:function(){var e=this;this.$refs.formValidate.validate(function(t){t&&(console.log(!0),"add"===e.type&&e.saveAndEditTicket("saveNewMemberInfo",params),"modify"===e.type&&e.saveAndEditTicket("editMemberInfo",params))})},saveAndEditTicket:function(t,e){var a=this;ajax.post(t,{}).then(function(t){t.success?(a.$Message.success(a.$t("successTip",{tip:a.$t(a.type)})),a.goBack()):a.$Message.error(t.message||a.$t("failureTip",{tip:a.$t(a.type)}))})},modify:function(t){this.$refs.editPark.show({data:t,title:this.$t("modify")+this.$t("oneTicketPark"),type:"modify",confirmCallback:function(){console.log(!0)}})},del:function(t){},addPark:function(){var e=this;this.$refs.editPark.show({title:this.$t("add")+this.$t("oneTicketPark"),type:"add",confirmCallback:function(t){console.log(!0),e.tableData.push(t)}})},goBack:function(){"add"===this.type&&this.$router.push({name:"ticketType"}),"modify"===this.type&&this.$router.back()},getParams:function(t){t&&0<s()(t).length&&(this.type=t.type,t.info&&(this.formData=t.info))},initData:function(t){this.info=JSON.parse(r()(t));var e=p()(t,["custName","phoneNum","emailAddr","birthDay","gender","qq","wechatAcct","alipayAcct","cityCode","stateCode","hobby","certificationType","idCardNumber","homeAddr","status","tpNo","tpCardNo","levelId","channelId"]);this.member=v()({},e)}},computed:{localeRouter:function(){return"add"===this.type?this.$t("addTicket"):this.$t("editDetail")}}},b={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"edit-ticket"},[i("bread-crumb-head",{attrs:{"before-router-list":a.beforeRouterList,"locale-router":a.localeRouter}}),a._v(" "),i("div",{staticClass:"container"},[i("Form",{ref:"formValidate",attrs:{model:a.formData,rules:a.ruleValidate,"label-position":"top"}},[i("title-temp",{attrs:{title:"basicInfo"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("productName"),prop:"productName"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.productName,callback:function(t){a.$set(a.formData,"productName","string"==typeof t?t.trim():t)},expression:"formData.productName"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("scenePrice"),prop:"scenePrice"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.scenePrice,callback:function(t){a.$set(a.formData,"scenePrice","string"==typeof t?t.trim():t)},expression:"formData.scenePrice"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("thirdProductNo"),prop:"thirdProductNo"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.thirdProductNo,callback:function(t){a.$set(a.formData,"thirdProductNo","string"==typeof t?t.trim():t)},expression:"formData.thirdProductNo"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"}),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("productDesc"),prop:"productDesc"}},[i("Input",{attrs:{type:"textarea",rows:3,placeholder:a.$t("inputField",{msg:""})},model:{value:a.formData.productDesc,callback:function(t){a.$set(a.formData,"productDesc","string"==typeof t?t.trim():t)},expression:"formData.productDesc"}})],1)],1)]),a._v(" "),i("title-temp",{attrs:{title:"ticketInfo"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("printName"),prop:"printName"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.printName,callback:function(t){a.$set(a.formData,"printName","string"==typeof t?t.trim():t)},expression:"formData.printName"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("ticketPrice"),prop:"ticketPrice"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.ticketPrice,callback:function(t){a.$set(a.formData,"ticketPrice","string"==typeof t?t.trim():t)},expression:"formData.ticketPrice"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("ticketDesc"),prop:"ticketDesc"}},[i("Input",{attrs:{type:"textarea",rows:3,placeholder:a.$t("inputField",{msg:""})},model:{value:a.formData.ticketDesc,callback:function(t){a.$set(a.formData,"ticketDesc","string"==typeof t?t.trim():t)},expression:"formData.ticketDesc"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("printDesc"),prop:"printDesc"}},[i("Input",{attrs:{type:"textarea",rows:3,placeholder:a.$t("inputField",{msg:""})},model:{value:a.formData.printDesc,callback:function(t){a.$set(a.formData,"printDesc","string"==typeof t?t.trim():t)},expression:"formData.printDesc"}})],1)],1)]),a._v(" "),i("title-temp",{attrs:{title:"buyLimit"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("isTeamProduct"),prop:"isTeamProduct"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.isTeamProduct,callback:function(t){a.$set(a.formData,"isTeamProduct",t)},expression:"formData.isTeamProduct"}},a._l(a.enumData.isTeamProduct,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("enterNum"),prop:"enterNum"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.enterNum,callback:function(t){a.$set(a.formData,"enterNum","string"==typeof t?t.trim():t)},expression:"formData.enterNum"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("minOrderNum"),prop:"minOrderNum"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.minOrderNum,callback:function(t){a.$set(a.formData,"minOrderNum","string"==typeof t?t.trim():t)},expression:"formData.minOrderNum"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("maxOrderNum"),prop:"maxOrderNum"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.maxOrderNum,callback:function(t){a.$set(a.formData,"maxOrderNum","string"==typeof t?t.trim():t)},expression:"formData.maxOrderNum"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("orderToCommitVisitorIdInfo"),prop:"orderToCommitVisitorIdInfo"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.orderToCommitVisitorIdInfo,callback:function(t){a.$set(a.formData,"orderToCommitVisitorIdInfo",t)},expression:"formData.orderToCommitVisitorIdInfo"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"}),a._v(" "),"noRequired"!==a.formData.orderToCommitVisitorIdInfo?i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("idType"),prop:"idType"}},[i("CheckboxGroup",{model:{value:a.formData.idType,callback:function(t){a.$set(a.formData,"idType",t)},expression:"formData.idType"}},a._l(a.enumData.idType,function(t,e){return i("Checkbox",{key:e,attrs:{label:t.value}},[a._v("\n                                "+a._s(a.$t(t.label)))])}))],1)],1):a._e(),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("limitById"),prop:"limitByIdDay"}},[i("Input",{staticClass:"short-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.limitByIdDay,callback:function(t){a.$set(a.formData,"limitByIdDay","string"==typeof t?t.trim():t)},expression:"formData.limitByIdDay"}}),a._v(" "),i("span",{staticClass:"label"},[a._v(a._s(a.$t("maxBuy")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.limitByIdNum,callback:function(t){a.$set(a.formData,"limitByIdNum","string"==typeof t?t.trim():t)},expression:"formData.limitByIdNum"}}),a._v(" "),i("span",[a._v(a._s(a.$t("paper")))])],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("limitByMobile"),prop:"limitByMobileDay"}},[i("Input",{staticClass:"short-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.limitByMobileDay,callback:function(t){a.$set(a.formData,"limitByMobileDay","string"==typeof t?t.trim():t)},expression:"formData.limitByMobileDay"}}),a._v(" "),i("span",{staticClass:"label"},[a._v(a._s(a.$t("maxBuy")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.limitByMobileNum,callback:function(t){a.$set(a.formData,"limitByMobileNum","string"==typeof t?t.trim():t)},expression:"formData.limitByMobileNum"}}),a._v(" "),i("span",[a._v(a._s(a.$t("paper")))])],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("limitStore"),prop:"limitStore"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.limitStore,callback:function(t){a.$set(a.formData,"limitStore",t)},expression:"formData.limitStore"}},a._l(a.enumData.limitStore,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("storeNum"),prop:"storeNum"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.storeNum,callback:function(t){a.$set(a.formData,"storeNum","string"==typeof t?t.trim():t)},expression:"formData.storeNum"}})],1)],1)]),a._v(" "),i("title-temp",{attrs:{title:"productEffect"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("productEffectSet"),prop:"productEffectSet"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.productEffectSet,callback:function(t){a.$set(a.formData,"productEffectSet",t)},expression:"formData.productEffectSet"}},a._l(a.enumData.productEffectSet,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:""}})],1)]),a._v(" "),i("title-temp",{attrs:{title:"playRule"}}),a._v(" "),i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("playPark")}},[i("span",{staticClass:"blue",on:{click:a.addPark}},[a._v("+ "+a._s(a.$t("addPark")))]),a._v(" "),i("table-com",{attrs:{ofsetHeight:120,"table-com-min-height":260,"column-data":a.columnData,"table-data":a.tableData,border:!1},scopedSlots:a._u([{key:"column3",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"normal",on:{click:function(t){a.modify(e.row)}}},[a._v(a._s(a.$t("modify")))]),a._v(" "),i("li",{staticClass:"red-label",on:{click:function(t){a.del(e.row)}}},[a._v(a._s(a.$t("delete")))])])]}}])})}}])})],1)],1)])],1),a._v(" "),i("div",{staticClass:"footer"},["add"===a.type?[i("Button",{attrs:{type:"primary",loading:a.loading},on:{click:a.formValidateFunc}},[a._v("\n                    "+a._s(a.$t("commitCheck"))+"\n                ")]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.goBack}},[a._v("\n                    "+a._s(a.$t("giveUpAdd"))+"\n                ")])]:a._e(),a._v(" "),"modify"===a.type?[i("Button",{attrs:{type:"primary",loading:a.loading},on:{click:a.formValidateFunc}},[a._v("\n                    "+a._s(a.$t("confirm"))+"\n                ")]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.goBack}},[a._v("\n                    "+a._s(a.$t("giveUpModify"))+"\n                ")])]:a._e()],2)],1),a._v(" "),i("edit-park-modal",{ref:"editPark"})],1)},staticRenderFns:[]};var $=a("VU/8")(_,b,!1,function(t){a("4N2j")},"data-v-7ff6ef67",null);e.default=$.exports},acmb:function(t,e){},cW4D:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),r=a.n(i),l=a("DB50"),s=a("g5kf"),o=a("TLh+"),n=[{title:"ID",width:160,field:"id"},{title:"productCode",minWidth:150,field:"code"},{title:"productName",minWidth:100,field:"productName"},{title:"scenePrice",minWidth:120,field:"standardPrice"},{title:"scenePlace",minWidth:220,field:"orgName"},{title:"status",minWidth:110,field:"auditStatus"},{title:"updateTime",minWidth:180,field:"updatedTime"},{title:"operate",width:80,field:""}],c=a("gyMJ"),d={components:{tableCom:l.a,delModal:s.a},props:{},data:function(){return{queryParams:{pageNo:1,pageSize:o.e.pageDefaultSize},filterParam:{order:"update_time desc"},filterList:[{text:"已启用",value:"已启用"},{text:"未启用",value:"未启用"}],columnData:n,tableData:[],total:0,selectedRow:[],delUnits:""}},methods:{queryList:function(){var e=this;c.a.post("queryProductPage",this.queryParams).then(function(t){t.success?(e.tableData=t.data.data||[],e.total=t.data.totalRow||0):(e.tableData=[],e.total=0,e.$Message.error(t.message||e.$t("fail")))})},checkProductDetail:function(t){this.$router.push({name:"ticketDetail",params:{info:t}})},changeSelection:function(t){this.selectedRow=t},batchDel:function(){var t=this,e=this.selectedRow.map(function(t){return t.id}).join(",");this.delUnits=this.selectedRow.map(function(t){return t.productName}).join(","),console.log(e),this.$refs.delModal.show({title:this.$t("deleteBatch"),confirmCallback:function(){t.deleteTicket(e)}})},deleteTicket:function(t){var e=this;c.a.post("deleteProduct",{productIds:t}).then(function(t){t.success?(e.$Message.success(e.$t("success")+e.$t("delete")),e.queryList()):e.$Message.error(t.message||e.$t("fail"))})},handleSortChanged:function(t){var e="desc";t.order&&"ascending"===t.order&&(e="asc"),t.prop&&("updatedTime"===t.prop&&(t.prop="updated_time"),r()(this.filterParam,{order:t.prop+" "+e}),r()(this.queryParams,this.filterParam),this.queryParams.pageNo=1,this.queryList())},filterHandler:function(t,e){return e.status===t}}},m={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"ticket-type"},[i("div",{staticClass:"operation-box"},[i("Button",{attrs:{type:"primary"},on:{click:function(t){a.$router.push({name:"addTicket",params:{type:"add"}})}}},[a._v("+ "+a._s(a.$t("add")))]),a._v(" "),i("Button",{attrs:{type:"error",disabled:!(0<a.selectedRow.length)},on:{click:a.batchDel}},[a._v(a._s(a.$t("del")))])],1),a._v(" "),i("table-com",{attrs:{ofsetHeight:120,"show-pagination":!0,"column-data":a.columnData,"table-data":a.tableData,"total-count":a.total,"page-no-d":a.queryParams.pageNo,"page-size-d":a.queryParams.pageSize,border:!0,"column-check":!0,"default-sort":{prop:"updatedTime",order:"descending"}},on:{"update:pageNoD":function(t){a.$set(a.queryParams,"pageNo",t)},"update:pageSizeD":function(t){a.$set(a.queryParams,"pageSize",t)},"sort-change":a.handleSortChanged,"query-data":a.queryList,"selection-change":a.changeSelection},scopedSlots:a._u([{key:"column5",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,filters:a.filterList,"filter-method":a.filterHandler,"filter-placement":"bottom-end","min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(t){return[i("div",["enabled"===t.row.auditStatus?i("span",{staticClass:"status-recharge pass"},[a._v(a._s(a.$t("startingUse")))]):a._e(),a._v(" "),"auditing"===t.row.auditStatus?i("span",{staticClass:"status-recharge reject"},[a._v(a._s(a.$t("checking")))]):a._e(),a._v(" "),"已驳回"===t.row.auditStatus?i("span",{staticClass:"status-recharge pending"},[a._v(a._s(a.$t("rejected")))]):a._e(),a._v(" "),"未启用"===t.row.auditStatus?i("span",{staticClass:"status-recharge pending"},[a._v(a._s(a.$t("unStarting")))]):a._e()])]}}])})}},{key:"column6",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth,sortable:"custom",prop:t.field},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n                "+a._s(t.row.updatedTime)+"\n            ")]}}])})}},{key:"column7",fn:function(t){return i("el-table-column",{attrs:{fixed:"right",label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"operate",on:{click:function(t){a.checkProductDetail(e.row)}}},[a._v(a._s(a.$t("check")))])])]}}])})}}])}),a._v(" "),i("del-modal",{ref:"delModal"},[i("span",{staticClass:"content-text"},[a._v(a._s(a.$t("isDoing"))+a._s(a.$t("delete"))+"："),i("span",{staticClass:"yellow-label"},[a._v(a._s(a.delUnits))])]),a._v(" "),i("span",[i("span",{staticClass:"red-label"},[a._v(a._s(a.$t("irreversible")))]),a._v("，"+a._s(a.$t("continueYesRoNo"))+"？")])])],1)},staticRenderFns:[]};var u=a("VU/8")(d,m,!1,function(t){a("iA1i")},"data-v-2a2f9588",null);e.default=u.exports},dR26:function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"park-title-wrap"},[a("div",{staticClass:"line"}),t._v(" "),a("span",{staticClass:"name"},[t._v(t._s(t.$t(t.title)))])])},staticRenderFns:[]};var r=a("VU/8")({props:["title"],components:{},data:function(){return{}}},i,!1,function(t){a("O1e/")},"data-v-4f6a8fde",null);e.a=r.exports},fAow:function(t,e){},hSjV:function(t,e){},iA1i:function(t,e){},n1nY:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return r}),a.d(e,"d",function(){return l}),a.d(e,"c",function(){return s});var i=[{title:"parkName",width:160,field:"parkName"},{title:"verificationType",minWidth:150,field:"saleType"},{title:"playTotalNum",minWidth:130,field:"itemCheckTimes"},{title:"operate",width:150,field:""}],r=[{title:"index",width:120,field:"id"},{title:"equipmentName",minWidth:150,field:"name"},{title:"status",minWidth:110,field:"status"},{title:"operate",width:100,field:""}],l=[{title:"index",width:250,field:"id"},{title:"equipmentName",minWidth:250,field:"name"}],s=[{title:"index",width:70,field:"id"},{title:"projectName",minWidth:120,field:"name"},{title:"totalPlayTimes",minWidth:150,field:"times"},{title:"dayPlayTimes",minWidth:150,field:"day"},{title:"operate",width:100,field:""}]},ndyY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),r=a.n(i),l=a("fZjL"),s=a.n(l),o=a("rVNw"),n=a("+bzR"),c=a("DB50"),d=a("dR26"),m=a("TLh+"),u=[{title:"产品名称",width:160,field:"parkName"},{title:"景区成本价",minWidth:150,field:"saleType"},{title:"产品单价",minWidth:130,field:"itemCheckTimes"},{title:"限制库存",minWidth:130,field:"itemCheckTimes"},{title:"operate",width:150,field:""}],p=[{title:"销售渠道分组",width:260,field:"parkName"},{title:"销售渠道",minWidth:400,field:"saleType"}],f=[{title:"营销类别",width:300,field:"parkName"},{title:"等级名称",minWidth:300,field:"saleType"},{title:"operate",width:180,field:""}],v=[{title:"年",width:90,field:"year"},{title:"月",minWidth:90,field:"month"},{title:"日",minWidth:200,field:"day"}],h=[{title:"退票申请期限",width:300,field:"year"},{title:"退票手续费率",minWidth:100,field:"month"},{title:"operate",width:220,field:""}],y=[{title:"园区",width:340,field:"year"},{title:"金额（元）",minWidth:300,field:"month"}],g=a("2Uyi"),_={props:{},components:{tableCom:c.a,titlePark:d.a},data:function(){var i=this,t={emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}},e=function(e,t,a){t&&g.a.validateInteger(t).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})};return{type:"add",title:this.$t("add")+this.$t("产品"),visible:!1,confirmCallback:null,cancelCallback:null,formData:{choosePark:"",saleType:"one",peopleEnterTimes:"",dayEnterTimes:"",equipmentGroup:"",enterCheckPlace:"",otherSet:["fingerprint"],projectTotalTimes:"",addProjectGroup:[]},ruleValidate:{choosePark:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("productName")}),trigger:"change"}],saleType:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("saleType")}),trigger:"change"}],peopleEnterTimes:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("peopleEnterTimes")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("peopleEnterTimes"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],dayEnterTimes:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("dayEnterTimes")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("dayEnterTimes"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],projectTotalTimes:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("projectTotalTimes")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("projectTotalTimes"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}]},enumData:{choosePark:[],saleType:m.p,group:[],authenticationType:m.a},subAccountColumn:y,subAccountData:[{id:"1",name:"旋转木马",times:3,day:3,play:"true"},{id:"2",name:"摩天轮",times:3,day:3,play:"false"},{id:"3",name:"过山车",times:0,day:0,play:"false"}]}},methods:{changeSaleType:function(e){var t=this,a=this.enumData.saleType.find(function(t){return e===t.value});this.title=a&&"one_ticket"===e?this.$t(this.type)+this.$t("oneTicketPark"):this.$t(this.type)+this.$t("moreTicketPark"),this.$nextTick(function(){t.$refs.formValidate.resetFields()})},changeChooseProduct:function(t){console.log(t)},changeStock:function(t){console.log(t)},checkInput:function(t){console.log(t)},confirm:function(){var e=this;this.$refs.formValidate.validate(function(t){t&&(e.loading=!0,e.confirmCallback&&(e.confirmCallback(e.formData),e.cancel()))})},cancel:function(){this.visible=!1,this.$refs.formValidate.resetFields(),this.cancelCallback&&this.cancelCallback()},show:function(t){var e=t.data,a=t.type,i=t.title,r=t.confirmCallback,l=void 0===r?null:r,s=t.cancelCallback;this.visible=!0,this.title=i,this.type=a,e&&e.id&&(this.formData=e),l&&"function"==typeof l&&(this.confirmCallback=l),s&&"function"==typeof s&&(this.cancelCallback=s)}}},b={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("Modal",{staticClass:"edit-park-modal",attrs:{title:"Title","mask-closable":!1,"class-name":"vertical-center-modal"},model:{value:a.visible,callback:function(t){a.visible=t},expression:"visible"}},[i("div",{staticClass:"target-class",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"title"},[a._v("\n            "+a._s(a.title)+"\n        ")])]),a._v(" "),i("div",{staticClass:"content-info"},[i("Form",{ref:"formValidate",attrs:{model:a.formData,rules:a.ruleValidate,"label-position":"top"}},[i("div",{staticClass:"padding-bottom",staticStyle:{padding:"10px 0"}},[i("span",[a._v(a._s(a.$t("所属景区"))+"：")]),a._v(" "),i("span",[a._v("野生动物园")])]),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("选择产品"),prop:"saleType"}},[i("Select",{attrs:{disabled:"check"===a.type,placeholder:a.$t("selectField",{msg:""})},on:{"on-change":a.changeChooseProduct},model:{value:a.formData.saleType,callback:function(t){a.$set(a.formData,"saleType",t)},expression:"formData.saleType"}},a._l(a.enumData.saleType,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1)],1),a._v(" "),i("div",{staticClass:"split-line"}),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"12"}},[i("FormItem",{attrs:{label:a.$t("限制库存"),prop:"saleType"}},[i("Select",{attrs:{disabled:"check"===a.type,placeholder:a.$t("selectField",{msg:""})},on:{"on-change":a.changeStock},model:{value:a.formData.saleType,callback:function(t){a.$set(a.formData,"saleType",t)},expression:"formData.saleType"}},a._l(a.enumData.saleType,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1),a._v(" "),i("i-col",{attrs:{span:"12"}},[i("FormItem",{attrs:{label:a.$t("库存数量"),prop:"saleType"}},[i("Input",{attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.dayEnterTimes,callback:function(t){a.$set(a.formData,"dayEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.dayEnterTimes"}})],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"12"}},[i("FormItem",{attrs:{label:a.$t("景区成本价"),prop:"saleType"}},[i("Input",{attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.dayEnterTimes,callback:function(t){a.$set(a.formData,"dayEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.dayEnterTimes"}})],1)],1),a._v(" "),i("i-col",{attrs:{span:"12"}},[i("FormItem",{attrs:{label:a.$t("产品单价"),prop:"saleType"}},[i("Input",{attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.dayEnterTimes,callback:function(t){a.$set(a.formData,"dayEnterTimes","string"==typeof t?t.trim():t)},expression:"formData.dayEnterTimes"}})],1)],1)],1),a._v(" "),i("i-row",[i("i-col",{attrs:{span:"24"}},[i("FormItem",{attrs:{label:a.$t("分账设置"),prop:"enterCheckPlace"}},[i("table-com",{attrs:{"table-com-min-height":250,"column-data":a.subAccountColumn,"table-data":a.subAccountData,border:!0},scopedSlots:a._u([{key:"column1",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""},scopedSlots:a._u([{key:"default",fn:function(e){return[i("Input",{staticClass:"short-input",attrs:{disabled:"check"===a.type,placeholder:a.$t("inputField",{field:""})},on:{"on-blur":function(t){a.checkInput(e.row)}},model:{value:e.row.status,callback:function(t){a.$set(e.row,"status","string"==typeof t?t.trim():t)},expression:"scope.row.status"}})]}}])})}}])})],1)],1)],1),a._v(" "),i("div",[i("span",{staticClass:"red-span"},[a._v(a._s(a.$t("未分帐金额"))+"：30"+a._s(a.$t("yuan")))])])],1)],1),a._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{staticClass:"ivu-btn-90px",attrs:{type:"primary"},on:{click:a.confirm}},[a._v(a._s(a.$t("confirm")))]),a._v(" "),i("Button",{staticClass:"ivu-btn-90px",attrs:{type:"ghost"},on:{click:a.cancel}},[a._v(a._s(a.$t("cancel")))])],1)])},staticRenderFns:[]};var $=a("VU/8")(_,b,!1,function(t){a("MKAT")},"data-v-0c8f8a04",null).exports,k=a("7dVJ"),D=a("w9Mt"),w=a.n(D),C=a("gs2Y"),T=a.n(C),P={mixins:[k.a],components:{breadCrumbHead:o.a,titleTemp:n.a,tableCom:c.a,editProduct:$},data:function(){var i=this,t={emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}},e=function(e,t,a){t&&g.a.validateMoney(t).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t("errorMaxLength",{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})},a=function(e,t,a){t&&g.a.validateInteger(t).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})};return{type:"add",beforeRouterList:[{name:"marketingPolicy",router:"marketingPolicy"}],loading:!1,weekList:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],open:!1,formData:{salePolicyName:"",desc:"",week:["Monday","Tuesday","Wednesday"],scenePrice:"",thirdProductNo:"",productDesc:"",printName:"",ticketPrice:"",ticketDesc:"",printDesc:"",isTeamProduct:"yes",enterNum:"",minOrderNum:"10",maxOrderNum:"100",orderToCommitVisitorIdInfo:"noRequired",idType:["identity","passport"],limitByIdDay:"5",limitByIdNum:"5",limitByMobileDay:"5",limitByMobileNum:"5",limitStore:"is_no_limit",storeNum:"",productEffectSet:"dayToStart"},ruleValidate:{salePolicyName:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("productName")}),trigger:"blur"},{type:"string",max:50,message:this.$t("errorMaxLength",{field:this.$t("salePolicyName"),length:50}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],desc:[{type:"string",max:500,message:this.$t("errorMaxLength",{field:this.$t("desc"),length:500}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],scenePrice:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("scenePrice")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("scenePrice"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],thirdProductNo:[{type:"string",max:50,message:this.$t("errorMaxLength",{field:this.$t("thirdProductNo"),length:50}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],productDesc:[{type:"string",max:500,message:this.$t("errorMaxLength",{field:this.$t("productDesc"),length:500}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],printName:[{type:"string",max:50,message:this.$t("errorMaxLength",{field:this.$t("printName"),length:50}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],ticketPrice:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("ticketPrice"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],ticketDesc:[{type:"string",max:500,message:this.$t("errorMaxLength",{field:this.$t("ticketDesc"),length:500}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],printDesc:[{type:"string",max:500,message:this.$t("errorMaxLength",{field:this.$t("printDesc"),length:500}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],enterNum:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("enterNum")}),trigger:"blur"},{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("enterNum"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],minOrderNum:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("minOrderNum"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],maxOrderNum:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("maxOrderNum"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],storeNum:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("storeNum"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"}],limitByIdDay:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("limitById"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"},{validator:function(e,t,a){(t||i.formData.limitByIdNum)&&g.a.validateInteger(i.formData.limitByIdNum).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})},trigger:"blur"}],limitByMobileDay:[{type:"string",max:10,message:this.$t("errorMaxLength",{field:this.$t("limitByMobile"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:a,trigger:"blur"},{validator:function(e,t,a){(t||i.formData.limitByMobileNum)&&g.a.validateInteger(i.formData.limitByMobileNum).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t(e.field),length:10}):i.$t(t,{field:i.$t(e.field)}))})},trigger:"blur"}]},enumData:{scene:[],isTeamProduct:m.i,orderInfo:m.m,idType:m.h,productEffectSet:m.n,limitStore:m.j},productColumn:u,productData:[{}],saleChannelColumn:p,saleChannelData:[{}],selectedRow:[],marketingColumn:f,marketingData:[{editable:!1},{editable:!0}],queryParams:{pageNo:1,pageSize:m.e.pageDefaultSize},total:0,dateListColumn:v,dateData:[{year:"2018",month:"9",day:"7、8、10、14、20"}],refundColumn:h,refundData:[{}]}},created:function(){},methods:{triggerWeek:function(t){if(-1<this.formData.week.indexOf(t)){var e=this.formData.week.indexOf(t);this.formData.week.splice(e,1)}else this.formData.week.push(t)},changeSelection:function(t){this.selectedRow=t},queryList:function(){},formValidateFunc:function(){var e=this;this.$refs.formValidate.validate(function(t){t&&(console.log(!0),"add"===e.type&&e.saveAndEditTicket("saveNewMemberInfo",params),"modify"===e.type&&e.saveAndEditTicket("editMemberInfo",params))})},saveAndEditTicket:function(t,e){var a=this;ajax.post(t,{}).then(function(t){t.success?(a.$Message.success(a.$t("successTip",{tip:a.$t(a.type)})),a.goBack()):a.$Message.error(t.message||a.$t("failureTip",{tip:a.$t(a.type)}))})},addProduct:function(){this.$refs.editProduct.show({title:this.$t("add")+this.$t("产品"),type:"add",confirmCallback:function(t){console.log(!0)}})},modify:function(t){this.$refs.editPark.show({data:t,title:this.$t("modify")+this.$t("oneTicketPark"),type:"modify",confirmCallback:function(){console.log(!0)}})},del:function(t){},addPark:function(){this.$refs.editPark.show({title:this.$t("add")+this.$t("oneTicketPark"),type:"add",confirmCallback:function(t){console.log(!0)}})},goBack:function(){"add"===this.type&&this.$router.push({name:"ticketType"}),"modify"===this.type&&this.$router.back()},getParams:function(t){t&&0<s()(t).length&&(this.type=t.type)},initData:function(t){this.info=JSON.parse(r()(t));var e=w()(t,["custName","phoneNum","emailAddr","birthDay","gender","qq","wechatAcct","alipayAcct","cityCode","stateCode","hobby","certificationType","idCardNumber","homeAddr","status","tpNo","tpCardNo","levelId","channelId"]);this.member=T()({},e)}},computed:{localeRouter:function(){return"add"===this.type?this.$t("addSalePolicy"):this.$t("modifySalePolicy")}}},x={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"edit-sale-policy"},[i("bread-crumb-head",{attrs:{"before-router-list":a.beforeRouterList,"locale-router":a.localeRouter}}),a._v(" "),i("div",{staticClass:"container"},[i("Form",{ref:"formValidate",attrs:{model:a.formData,rules:a.ruleValidate,"label-position":"top"}},[i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("salePolicyName"),prop:"salePolicyName"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.salePolicyName,callback:function(t){a.$set(a.formData,"salePolicyName","string"==typeof t?t.trim():t)},expression:"formData.salePolicyName"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"}),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("desc"),prop:"desc"}},[i("Input",{attrs:{type:"textarea",rows:3,placeholder:a.$t("inputField",{msg:""})},model:{value:a.formData.desc,callback:function(t){a.$set(a.formData,"desc","string"==typeof t?t.trim():t)},expression:"formData.desc"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("政策可售期"),prop:"scenePrice"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.orderToCommitVisitorIdInfo,callback:function(t){a.$set(a.formData,"orderToCommitVisitorIdInfo",t)},expression:"formData.orderToCommitVisitorIdInfo"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("提前天数(M)"),prop:"thirdProductNo"}},[i("InputNumber",{attrs:{max:365,min:0,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.thirdProductNo,callback:function(t){a.$set(a.formData,"thirdProductNo","string"==typeof t?t.trim():t)},expression:"formData.thirdProductNo"}}),a._v(" "),i("span",{staticClass:"split"},[a._v(a._s(a.$t("至")))]),a._v(" "),i("InputNumber",{attrs:{max:365,min:0,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.thirdProductNo,callback:function(t){a.$set(a.formData,"thirdProductNo","string"==typeof t?t.trim():t)},expression:"formData.thirdProductNo"}}),a._v(" "),i("span",{staticClass:"notice"},[a._v(a._s(a.$t("提前0天表示可售当日票，提前1天表示可售次日票，依次类推")))])],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("指定起止日期"),prop:"ticketPrice"}},[i("DatePicker",{staticStyle:{width:"280px"},attrs:{placeholder:a.$t("selectField",{msg:""}),format:"yyyy-MM-dd",type:"daterange",clearable:!1,editable:!1,transfer:"",placement:"bottom-end"},model:{value:a.formData.ticketPrice,callback:function(t){a.$set(a.formData,"ticketPrice",t)},expression:"formData.ticketPrice"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("指定日期"),prop:"ticketPrice"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.orderToCommitVisitorIdInfo,callback:function(t){a.$set(a.formData,"orderToCommitVisitorIdInfo",t)},expression:"formData.orderToCommitVisitorIdInfo"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])})),a._v(" "),i("span",{staticClass:"blue"},[a._v(a._s(a.$t("切换为日期清单视图")))]),a._v(" "),i("span",{staticClass:"blue"},[a._v(a._s(a.$t("切换日历视图增减日期")))]),a._v(" "),i("br"),a._v(" "),i("DatePicker",{staticStyle:{width:"280px"},attrs:{open:a.open,multiple:"",placeholder:a.$t("selectField",{msg:""}),format:"yyyy-MM-dd",clearable:!1,editable:!1,transfer:"",placement:"bottom-end"},model:{value:a.formData.ticketPrice,callback:function(t){a.$set(a.formData,"ticketPrice",t)},expression:"formData.ticketPrice"}}),a._v(" "),i("table-com",{attrs:{ofsetHeight:120,"table-com-min-height":260,"column-data":a.dateListColumn,"table-data":a.dateData,border:!1}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("每周可玩日期"),prop:"ticketDesc"}},a._l(a.weekList,function(e,t){return i("Button",{key:t,staticClass:"week-btn",attrs:{type:-1<a.formData.week.indexOf(e)?"primary":"ghost"},on:{click:function(t){a.triggerWeek(e)}}},[a._v("\n                            "+a._s(a.$t(e))+"\n                            "),-1<a.formData.week.indexOf(e)?i("i",{staticClass:"iconfont icon-selected"}):a._e()])}))],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("每日可售时间"),prop:"thirdProductNo"}},[i("TimePicker",{attrs:{format:"HH:mm",placeholder:a.$t("selectField",{msg:""})}}),a._v(" "),i("span",{staticClass:"split"},[a._v(a._s(a.$t("至")))]),a._v(" "),i("TimePicker",{attrs:{format:"HH:mm",placeholder:a.$t("selectField",{msg:""})}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("当日票可售时间"),prop:"thirdProductNo"}},[i("TimePicker",{attrs:{format:"HH:mm",placeholder:a.$t("selectField",{msg:""})}}),a._v(" "),i("span",{staticClass:"split"},[a._v(a._s(a.$t("至")))]),a._v(" "),i("TimePicker",{attrs:{format:"HH:mm",placeholder:a.$t("selectField",{msg:""})}})],1)],1)]),a._v(" "),i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("游玩期限"),prop:"scenePrice"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.orderToCommitVisitorIdInfo,callback:function(t){a.$set(a.formData,"orderToCommitVisitorIdInfo",t)},expression:"formData.orderToCommitVisitorIdInfo"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])}))],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("指定起止日期"),prop:"ticketPrice"}},[i("DatePicker",{staticStyle:{width:"280px"},attrs:{placeholder:a.$t("selectField",{msg:""}),format:"yyyy-MM-dd",type:"daterange",clearable:!1,editable:!1,transfer:"",placement:"bottom-end"},model:{value:a.formData.ticketPrice,callback:function(t){a.$set(a.formData,"ticketPrice",t)},expression:"formData.ticketPrice"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("指定日期"),prop:"ticketPrice"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.orderToCommitVisitorIdInfo,callback:function(t){a.$set(a.formData,"orderToCommitVisitorIdInfo",t)},expression:"formData.orderToCommitVisitorIdInfo"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])})),a._v(" "),i("span",{staticClass:"blue"},[a._v(a._s(a.$t("切换为日期清单视图")))]),a._v(" "),i("span",{staticClass:"blue"},[a._v(a._s(a.$t("切换日历视图增减日期")))]),a._v(" "),i("br"),a._v(" "),i("DatePicker",{staticStyle:{width:"280px"},attrs:{multiple:"",placeholder:a.$t("selectField",{msg:""}),format:"yyyy-MM-dd",clearable:!1,editable:!1,transfer:"",placement:"bottom-end"},model:{value:a.formData.ticketPrice,callback:function(t){a.$set(a.formData,"ticketPrice",t)},expression:"formData.ticketPrice"}}),a._v(" "),i("table-com",{attrs:{ofsetHeight:120,"table-com-min-height":260,"column-data":a.dateListColumn,"table-data":a.dateData,border:!1}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("每周可玩日期"),prop:"ticketDesc"}},a._l(a.weekList,function(e,t){return i("Button",{key:t,staticClass:"week-btn",attrs:{type:-1<a.formData.week.indexOf(e)?"primary":"ghost"},on:{click:function(t){a.triggerWeek(e)}}},[a._v("\n                            "+a._s(a.$t(e))+"\n                            "),-1<a.formData.week.indexOf(e)?i("i",{staticClass:"iconfont icon-selected"}):a._e()])}))],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("入园时间控制"),prop:"ticketDesc"}},[i("TimePicker",{attrs:{format:"HH:mm",placeholder:a.$t("selectField",{msg:""})}}),a._v(" "),i("span",{staticClass:"split"},[a._v(a._s(a.$t("至")))]),a._v(" "),i("TimePicker",{attrs:{format:"HH:mm",placeholder:a.$t("selectField",{msg:""})}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("下单后延迟生效"),prop:"ticketDesc"}},[i("InputNumber",{attrs:{max:60,min:0,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.thirdProductNo,callback:function(t){a.$set(a.formData,"thirdProductNo","string"==typeof t?t.trim():t)},expression:"formData.thirdProductNo"}}),a._v(" "),i("span",{staticClass:"split"},[a._v(a._s(a.$t("分钟")))])],1)],1)]),a._v(" "),i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("产品列表")}},[i("span",{staticClass:"blue",on:{click:a.addProduct}},[a._v("+ "+a._s(a.$t("新增产品")))]),a._v(" "),i("table-com",{attrs:{ofsetHeight:120,"table-com-min-height":260,"column-data":a.productColumn,"table-data":a.productData,border:!1},scopedSlots:a._u([{key:"column4",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"normal",on:{click:function(t){a.modify(e.row)}}},[a._v(a._s(a.$t("modify")))]),a._v(" "),i("li",{staticClass:"red-label",on:{click:function(t){a.del(e.row)}}},[a._v(a._s(a.$t("delete")))])])]}}])})}}])})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("销售渠道")}},[i("table-com",{attrs:{ofsetHeight:120,"table-com-min-height":260,"column-data":a.saleChannelColumn,"table-data":a.saleChannelData,border:!1,"column-check":!0},on:{"selection-change":a.changeSelection}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("全民营销")}},[i("span",{staticClass:"blue",on:{click:a.addPark}},[a._v("+ "+a._s(a.$t("增加营销等级")))]),a._v(" "),i("table-com",{attrs:{ofsetHeight:120,"table-com-min-height":260,"column-data":a.marketingColumn,"table-data":a.marketingData,"show-pagination":!0,"total-count":a.total,"page-no-d":a.queryParams.pageNo,"page-size-d":a.queryParams.pageSize,border:!1},on:{"update:pageNoD":function(t){a.$set(a.queryParams,"pageNo",t)},"update:pageSizeD":function(t){a.$set(a.queryParams,"pageSize",t)},"query-data":a.queryList},scopedSlots:a._u([{key:"column0",fn:function(t){return i("el-table-column",{attrs:{"show-overflow-tooltip":"",label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.editable?i("Select",{attrs:{transfer:"",placeholder:a.$t("selectField",{msg:""})},model:{value:e.row.name,callback:function(t){a.$set(e.row,"name",t)},expression:"scope.row.name"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                            "+a._s(a.$t(t.label))+"\n                                        ")])})):i("span",[a._v(a._s(a._f("contentFilter")(a.$t(e.row.editable))))])]}}])})}},{key:"column1",fn:function(t){return i("el-table-column",{attrs:{"show-overflow-tooltip":"",label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.editable?i("Select",{attrs:{transfer:"",placeholder:a.$t("selectField",{msg:""})},model:{value:e.row.name,callback:function(t){a.$set(e.row,"name",t)},expression:"scope.row.name"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                            "+a._s(a.$t(t.label))+"\n                                        ")])})):i("span",[a._v(a._s(a._f("contentFilter")(a.$t(e.row.editable))))])]}}])})}},{key:"column2",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[e.row.editable?[i("li",{staticClass:"normal",on:{click:function(t){a.modify(e.row)}}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("li",{staticClass:"normal",on:{click:function(t){a.modify(e.row)}}},[a._v(a._s(a.$t("cancel")))])]:[i("li",{staticClass:"red-label",on:{click:function(t){a.del(e.row)}}},[a._v(a._s(a.$t("delete")))])]],2)]}}])})}}])})],1)],1)]),a._v(" "),i("div",{staticClass:"form-content"},[i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("退票规则"),prop:"scenePrice"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.orderToCommitVisitorIdInfo,callback:function(t){a.$set(a.formData,"orderToCommitVisitorIdInfo",t)},expression:"formData.orderToCommitVisitorIdInfo"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])})),a._v(" "),i("span",{staticClass:"blue",on:{click:a.addPark}},[a._v("+ "+a._s(a.$t("新增退票手续费率档位")))]),a._v(" "),i("table-com",{attrs:{ofsetHeight:120,"table-com-min-height":260,"column-data":a.refundColumn,"table-data":a.refundData,border:!1},scopedSlots:a._u([{key:"column2",fn:function(t){return i("el-table-column",{attrs:{label:t.title,width:t.width,"min-width":t.minWidth},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"normal",on:{click:function(t){a.modify(e.row)}}},[a._v(a._s(a.$t("modify")))]),a._v(" "),i("li",{staticClass:"red-label",on:{click:function(t){a.del(e.row)}}},[a._v(a._s(a.$t("delete")))]),a._v(" "),i("li",{staticClass:"normal",on:{click:function(t){a.modify(e.row)}}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("li",{staticClass:"normal",on:{click:function(t){a.modify(e.row)}}},[a._v(a._s(a.$t("cancel")))])])]}}])})}}])})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("改签规则"),prop:"scenePrice"}},[i("Select",{attrs:{placeholder:a.$t("selectField",{msg:""})},model:{value:a.formData.orderToCommitVisitorIdInfo,callback:function(t){a.$set(a.formData,"orderToCommitVisitorIdInfo",t)},expression:"formData.orderToCommitVisitorIdInfo"}},a._l(a.enumData.orderInfo,function(t,e){return i("Option",{key:e,attrs:{value:t.value}},[a._v("\n                                "+a._s(a.$t(t.label))+"\n                            ")])})),a._v(" "),i("div",{staticClass:"custom-row"},[i("span",[a._v(a._s(a.$t("最晚改签日期：游玩日期前")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.salePolicyName,callback:function(t){a.$set(a.formData,"salePolicyName","string"==typeof t?t.trim():t)},expression:"formData.salePolicyName"}}),a._v(" "),i("span",[a._v(a._s(a.$t("天/可改签次数")))]),a._v(" "),i("Input",{staticClass:"short-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.salePolicyName,callback:function(t){a.$set(a.formData,"salePolicyName","string"==typeof t?t.trim():t)},expression:"formData.salePolicyName"}})],1)],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap single"},[i("Form-item",{attrs:{label:a.$t("购票须知"),prop:"productDesc"}},[i("Input",{attrs:{type:"textarea",rows:3,placeholder:a.$t("inputField",{msg:a.$t("购票须知")})},model:{value:a.formData.productDesc,callback:function(t){a.$set(a.formData,"productDesc","string"==typeof t?t.trim():t)},expression:"formData.productDesc"}})],1)],1)])]),a._v(" "),i("div",{staticClass:"footer"},[i("Button",{attrs:{type:"primary",loading:a.loading},on:{click:a.formValidateFunc}},[a._v("\n                "+a._s(a.$t("save"))+"\n            ")]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.goBack}},[a._v("\n                "+a._s(a.$t("cancel"))+"\n\n            ")])],1)],1),a._v(" "),i("edit-product",{ref:"editProduct"})],1)},staticRenderFns:[]};var F=a("VU/8")(P,x,!1,function(t){a("QMfm")},"data-v-2cb3c042",null);e.default=F.exports}});