webpackJsonp([5],{"+OUx":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("5dBV"),r=a.n(i),o=a("gBtx"),n=a.n(o),s=a("mvHQ"),l=a.n(s),c=a("fZjL"),d=a.n(c),u=a("gyMJ"),m=a("gs2Y"),h=a.n(m),f=a("2Uyi"),p=a("drfI"),g=a("YEFv"),v={components:{headerTabs:p.a},data:function(){var i=this;return{emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()},id:"",routerName:"memberSetting",settingData:{scoreEffectiveMode:{isIntegralType:"",isNoIntegralTime:""},scoreMultipleOnBirthday:{isSwitch:!1,multiple:""},scoreValidityPeriod:{validityType:"",validityTime:"",checked:!1,remind:""},memberValidPeriod:{type:"",vipValidity:"",vipValidityTime:"",vipNumber:""},notificationBeforeCouponExpire:{isSwitch:!1,day:""},handingWithScoreGrowthWhileRefund:{score:"",coupon:""},allowAdjustAccount:""},copySetData:{},reasonIndex:1,idTypeIndex:1,formDynamic:{reason:[],idType:[]},error:{isNoIntegralTimeError:"",multipleError:"",validityTimeError:"",remindError:"",vipValidityError:"",vipValidityTimeError:"",vipNumberError:"",dayError:""},boolProps:["score","coupon"],numberProps:["isNoIntegralTime","multiple","validityTime","remind","vipValidity","vipValidityTime","vipNumber","day"],stringProps:["isNoIntegralTime","multiple","validityTime","remind","vipValidity","vipValidityTime","vipNumber","day","score","coupon"]}},watch:{"settingData.scoreEffectiveMode.isIntegralType":function(t,e){"checkout_after"!==t&&(this.error.isNoIntegralTimeError="")},"settingData.scoreMultipleOnBirthday.isSwitch":function(t,e){t||(this.error.multipleError="")},"settingData.scoreValidityPeriod.validityType":function(t,e){"perpetual"===t&&(this.settingData.scoreValidityPeriod.checked=!1,this.error.validityTimeError="",this.error.remindError=""),"months_effective"===t&&(this.settingData.scoreValidityPeriod.checked=!0)},"settingData.scoreValidityPeriod.checked":function(t,e){t||(this.error.remindError="")},"settingData.memberValidPeriod.type":function(t,e){"perpetual"===t&&(this.error.vipValidityError="",this.error.vipValidityTimeError="",this.error.vipNumberError=""),"vipValidityType"===t&&(this.error.vipValidityTimeError="",this.error.vipNumberError=""),"vipValidityTime"===t&&(this.error.vipValidityError="",this.error.vipNumberError=""),"vipNumber"===t&&(this.error.vipValidityError="",this.error.vipValidityTimeError="")},"settingData.notificationBeforeCouponExpire.isSwitch":function(t,e){t||(this.error.dayError="")}},created:function(){this.findBasicSet(),this.queryDocument(),this.listAdjustReason()},methods:{transPropsType:function(t,e){switch(e){case"number":return t?Number(t):0;case"boolean":return"true"===t;case"string":return null!==t?String(t):""}},findBasicSet:function(){var r=this;u.a.post("findBasicSet",{}).then(function(t){if(t.success)if(t.data)if(r.id=t.data.id,t.data.allowAdjustAccount){var e={scoreEffectiveMode:JSON.parse(t.data.scoreEffectiveMode),scoreMultipleOnBirthday:JSON.parse(t.data.scoreMultipleOnBirthday),scoreValidityPeriod:JSON.parse(t.data.scoreValidityPeriod),memberValidPeriod:JSON.parse(t.data.memberValidPeriod),notificationBeforeCouponExpire:JSON.parse(t.data.notificationBeforeCouponExpire),handingWithScoreGrowthWhileRefund:JSON.parse(t.data.handingWithScoreGrowthWhileRefund),allowAdjustAccount:t.data.allowAdjustAccount};for(var a in e)if(a&&0<d()(e[a]).length)for(var i in e[a])-1<r.stringProps.indexOf(i)&&(e[a][i]=r.transPropsType(e[a][i],"string"));console.log(e),r.settingData=e,r.copySetData=h()({},e)}else r.copySetData=h()({},r.settingData);else r.copySetData=h()({},r.settingData)})},save:function(){if(this.checkInputFunc()){var t=h()({},this.settingData);for(var e in t)if(e&&0<d()(t[e]).length)for(var a in t[e])-1<this.boolProps.indexOf(a)&&(t[e][a]=this.transPropsType(t[e][a],"boolean")),-1<this.numberProps.indexOf(a)&&(t[e][a]=this.transPropsType(t[e][a],"number"));t.id=this.id;var i={id:this.id,scoreEffectiveMode:l()(t.scoreEffectiveMode),scoreMultipleOnBirthday:l()(t.scoreMultipleOnBirthday),scoreValidityPeriod:l()(t.scoreValidityPeriod),memberValidPeriod:l()(t.memberValidPeriod),notificationBeforeCouponExpire:l()(t.notificationBeforeCouponExpire),handingWithScoreGrowthWhileRefund:l()(t.handingWithScoreGrowthWhileRefund),allowAdjustAccount:t.allowAdjustAccount};console.log(i),this.basicSet(i)}},basicSet:function(t){var e=this;u.a.post("basicSet",t).then(function(t){t.success&&(e.$Message.success(e.$t("successTip",{tip:e.$t("saveBaseSetting")})+"!"),e.findBasicSet())})},resetFieldFunc:function(){this.copySetData!=={}&&(this.settingData=h()({},this.copySetData))},checkInputFunc:function(){return!("checkout_after"===this.settingData.scoreEffectiveMode.isIntegralType&&!this.checkInputBlurFunc(this.settingData.scoreEffectiveMode.isNoIntegralTime,"isNoIntegralTimeError"))&&(!(this.settingData.scoreMultipleOnBirthday.isSwitch&&!this.checkInputBlurFunc(this.settingData.scoreMultipleOnBirthday.multiple,"multipleError"))&&(!("months_effective"===this.settingData.scoreValidityPeriod.validityType&&!this.checkInputBlurFunc(this.settingData.scoreValidityPeriod.validityTime,"validityTimeError"))&&(!(this.settingData.scoreValidityPeriod.checked&&!this.checkInputBlurFunc(this.settingData.scoreValidityPeriod.validityTime,"remindError"))&&(!("vipValidityType"===this.settingData.memberValidPeriod.type&&!this.checkInputBlurFunc(this.settingData.memberValidPeriod.vipValidity,"vipValidityError"))&&(!("vipValidityTime"===this.settingData.memberValidPeriod.type&&!this.checkInputBlurFunc(this.settingData.memberValidPeriod.vipValidityTime,"vipValidityTimeError"))&&(!("vipNumber"===this.settingData.memberValidPeriod.type&&!this.checkInputBlurFunc(this.settingData.memberValidPeriod.vipNumber,"vipNumberError"))&&!(this.settingData.notificationBeforeCouponExpire.isSwitch&&!this.checkInputBlurFunc(this.settingData.notificationBeforeCouponExpire.day,"dayError"))))))))},queryDocument:function(){var a=this;this.formDynamic.idType=[],u.a.post("queryDocument",{isDeleted:"false",pageNo:1,pageSize:99999}).then(function(t){t.success&&t.data.data&&0<t.data.data.length&&t.data.data.forEach(function(t,e){t.index=e,t._status=1,t.active=!0,t.disabled=!0,a.formDynamic.idType.push(t)})})},updateDocument:function(t,e){var a=this;u.a.post("updateDocument",{name:t.name}).then(function(t){t.success&&(a.formDynamic.idType[e].disabled=!0,a.formDynamic.idType[e].active=!0,a.$Message.success(a.$t("successTip",{tip:a.$t("addCredentialsType")})+"!"))})},deleteDocument:function(t,e){var a=this;u.a.post("updateDocument",{id:t.id,isDeleted:"true"}).then(function(t){t.success&&(a.$Message.success(a.$t("successTip",{tip:a.$t("delCredentialsType")})+"!"),a.formDynamic.idType[e]._status=0)})},handleAddIdType:function(){this.idTypeIndex++,this.formDynamic.idType.push({name:"",index:this.idTypeIndex,_status:1,disabled:!1})},handleSubmitForIdType:function(e,a){var i=this;this.$refs.formDynamic.validateField("idType."+a+".name",function(t){""===t&&i.updateDocument(e,a)})},handleResetDocument:function(t,e){this.$refs.formDynamic.resetFields("idType."+e+".name"),this.formDynamic.idType[e]._status=0},listAdjustReason:function(){var a=this;u.a.post("listAdjustReason",{}).then(function(t){t.success&&t.data&&0<t.data.length&&t.data.forEach(function(t,e){t.index=e,t._status=1,t.active=!0,t.disabled=!0,a.formDynamic.reason.push(t)})})},updateReason:function(t,e){var a=this;u.a.post("addAdjustReason",{reason:t.reason}).then(function(t){t.success&&(a.formDynamic.reason[e].disabled=!0,a.formDynamic.reason[e].active=!0,a.$Message.success(a.$t("successTip",{tip:a.$t("addReason")})+"！"))})},deleteReason:function(t,e){var a=this;u.a.post("deleteAdjustReason",{reasonId:t.id}).then(function(t){t.success&&(a.$Message.success(a.$t("successTip",{tip:a.$t("delReason")})+"！"),a.formDynamic.reason[e]._status=0)})},handleAddReason:function(){this.reasonIndex++,this.formDynamic.reason.push({reason:"",index:this.reasonIndex,_status:1,disabled:!1})},handleSubmitForReason:function(e,a){var i=this;this.$refs.formDynamic.validateField("reason."+a+".reason",function(t){""===t&&i.updateReason(e,a)})},handleResetReason:function(t,e){this.$refs.formDynamic.resetFields("reason."+e+".reason"),this.formDynamic.reason[e]._status=0},checkInputBlurFunc:function(t,e){if(!f.a.isNotEmpty(t))return this.error[e]=this.$t("inputField",{field:""}),!1;if(this.error[e]="",t&&t.isUtf16())return this.error[e]=this.$t("errorIrregular"),!1;if(this.error[e]="",!g.validator.isNumber(t))return this.error[e]=this.$t("integetError",{field:""}),!1;var a=String(t);return a.length<1?(this.error[e]=this.$t("errorMinLength",{field:"",length:1}),!1):10<a.length?(this.error[e]=this.$t("errorMaxLength",{field:"",length:10}),!1):n()(t)!==r()(t)?(this.error[e]=this.$t("integetError",{field:""}),!1):t<0||0==t?(this.error[e]=this.$t("fieldTypeError",{field:""}),!1):!(this.error[e]="")}}},y={render:function(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"setting"},[r("header-tabs",{attrs:{"router-name":i.routerName}}),i._v(" "),r("div",{staticClass:"content"},[r("Form",{ref:"formDynamic",attrs:{model:i.formDynamic}},[r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("memberIntegralSetting")))]),i._v(" "),r("div",{staticClass:"main"},[r("RadioGroup",{attrs:{vertical:""},model:{value:i.settingData.scoreEffectiveMode.isIntegralType,callback:function(t){i.$set(i.settingData.scoreEffectiveMode,"isIntegralType",t)},expression:"settingData.scoreEffectiveMode.isIntegralType"}},[r("Radio",{attrs:{label:"immediately"}},[r("span",[i._v(i._s(i.$t("effectAfterPayed")))])]),i._v(" "),r("Radio",{attrs:{label:"checkout"}},[r("span",[i._v(i._s(i.$t("effectAfterConsumption")))])]),i._v(" "),r("Radio",{attrs:{label:"checkout_after"}},[r("span",{class:{"ivu-form-item-error":i.error.isNoIntegralTimeError}},[i._v(i._s(i.$t("afterConsumption"))),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:"checkout_after"!==i.settingData.scoreEffectiveMode.isIntegralType,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.scoreEffectiveMode.isNoIntegralTime,"isNoIntegralTimeError")}},model:{value:i.settingData.scoreEffectiveMode.isNoIntegralTime,callback:function(t){i.$set(i.settingData.scoreEffectiveMode,"isNoIntegralTime","string"==typeof t?t.trim():t)},expression:"settingData.scoreEffectiveMode.isNoIntegralTime"}}),i._v("\n                            "+i._s(i.$t("effectAfterTime")))],1),i._v(" "),i.error.isNoIntegralTimeError?r("div",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"153px"}},[i._v(i._s(i.error.isNoIntegralTimeError))]):i._e()])],1)],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("multiIntegralForBirth")))]),i._v(" "),r("div",{class:{"ivu-form-item-error":i.error.multipleError,main:!0}},[r("i-switch",{model:{value:i.settingData.scoreMultipleOnBirthday.isSwitch,callback:function(t){i.$set(i.settingData.scoreMultipleOnBirthday,"isSwitch",t)},expression:"settingData.scoreMultipleOnBirthday.isSwitch"}}),i._v(" "),r("span",{staticClass:"text"},[i._v(i._s(i.$t("gainOnBirthday"))),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:!i.settingData.scoreMultipleOnBirthday.isSwitch,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.scoreMultipleOnBirthday.multiple,"multipleError")}},model:{value:i.settingData.scoreMultipleOnBirthday.multiple,callback:function(t){i.$set(i.settingData.scoreMultipleOnBirthday,"multiple","string"==typeof t?t.trim():t)},expression:"settingData.scoreMultipleOnBirthday.multiple"}}),i._v("\n                    "+i._s(i.$t("timesIntegral")))],1),i._v(" "),i.error.multipleError?r("div",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"230px"}},[i._v(i._s(i.error.multipleError))]):i._e()],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("integralValiditySet")))]),i._v(" "),r("div",{staticClass:"main form-bottom"},[r("RadioGroup",{class:{"ivu-form-item-error":i.error.validityTimeError},attrs:{vertical:""},model:{value:i.settingData.scoreValidityPeriod.validityType,callback:function(t){i.$set(i.settingData.scoreValidityPeriod,"validityType",t)},expression:"settingData.scoreValidityPeriod.validityType"}},[r("Radio",{attrs:{label:"perpetual"}},[r("span",[i._v(i._s(i.$t("permanentValidity")))])]),i._v(" "),r("Radio",{attrs:{label:"months_effective"}},[r("span",[i._v(i._s(i.$t("gainIntegral"))),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:"months_effective"!==i.settingData.scoreValidityPeriod.validityType,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.scoreValidityPeriod.validityTime,"validityTimeError")}},model:{value:i.settingData.scoreValidityPeriod.validityTime,callback:function(t){i.$set(i.settingData.scoreValidityPeriod,"validityTime","string"==typeof t?t.trim():t)},expression:"settingData.scoreValidityPeriod.validityTime"}}),i._v("\n                                "+i._s(i.$t("invalidAfterMonths")))],1)]),i._v(" "),i.error.validityTimeError?r("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"95px",top:"60px"}},[i._v(i._s(i.error.validityTimeError))]):i._e()],1),i._v(" "),r("div",{staticClass:"check-group-wrap",class:{"ivu-form-item-error":i.error.remindError}},[r("Checkbox",{attrs:{disabled:"months_effective"!==i.settingData.scoreValidityPeriod.validityType},model:{value:i.settingData.scoreValidityPeriod.checked,callback:function(t){i.$set(i.settingData.scoreValidityPeriod,"checked",t)},expression:"settingData.scoreValidityPeriod.checked"}}),i._v(i._s(i.$t("clearIntegral"))),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:!i.settingData.scoreValidityPeriod.checked,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.scoreValidityPeriod.remind,"remindError")}},model:{value:i.settingData.scoreValidityPeriod.remind,callback:function(t){i.$set(i.settingData.scoreValidityPeriod,"remind","string"==typeof t?t.trim():t)},expression:"settingData.scoreValidityPeriod.remind"}}),i._v("\n                        "+i._s(i.$t("smsRemindsBeforeDays"))+"，"),i._v(" "),r("span",{staticClass:"blue-color"},[i._v(i._s(i.$t("smsSetting")))]),i._v(" "),i.error.remindError?r("div",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"155px"}},[i._v(i._s(i.error.remindError))]):i._e()],1)],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("memberCardValiditySet")))]),i._v(" "),r("div",{staticClass:"main margin-radio-group form-bottom"},[r("RadioGroup",{attrs:{vertical:""},model:{value:i.settingData.memberValidPeriod.type,callback:function(t){i.$set(i.settingData.memberValidPeriod,"type",t)},expression:"settingData.memberValidPeriod.type"}},[r("Radio",{attrs:{label:"perpetual"}},[r("span",[i._v(i._s(i.$t("permanentValidity")))])]),i._v(" "),r("Radio",{class:{"ivu-form-item-error":i.error.vipValidityTimeError},attrs:{label:"vipValidityTime"}},[r("span",[i._v(i._s(i.$t("lastTimeConsume"))),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:"vipValidityTime"!==i.settingData.memberValidPeriod.type,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.memberValidPeriod.vipValidityTime,"vipValidityTimeError")}},model:{value:i.settingData.memberValidPeriod.vipValidityTime,callback:function(t){i.$set(i.settingData.memberValidPeriod,"vipValidityTime","string"==typeof t?t.trim():t)},expression:"settingData.memberValidPeriod.vipValidityTime"}}),i._v("\n                                "+i._s(i.$t("freezeUnusedForDays")))],1),i._v(" "),i.error.vipValidityTimeError?r("div",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"123px"}},[i._v(i._s(i.error.vipValidityTimeError))]):i._e()]),i._v(" "),r("Radio",{class:{"ivu-form-item-error":i.error.vipValidityError},attrs:{label:"vipValidity"}},[r("span",[i._v(i._s(i.$t("openCard"))),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:"vipValidity"!==i.settingData.memberValidPeriod.type,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.memberValidPeriod.vipValidityType,"vipValidityError")}},model:{value:i.settingData.memberValidPeriod.vipValidityType,callback:function(t){i.$set(i.settingData.memberValidPeriod,"vipValidityType","string"==typeof t?t.trim():t)},expression:"settingData.memberValidPeriod.vipValidityType"}}),i._v("\n                            "+i._s(i.$t("freezeCardForDays")))],1),i._v(" "),i.error.vipValidityError?r("div",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"68px"}},[i._v(i._s(i.error.vipValidityError))]):i._e()]),i._v(" "),r("Radio",{class:{"ivu-form-item-error":i.error.vipNumberError},attrs:{label:"vipNumber"}},[r("span",[i._v(i._s(i.$t("memberCardUsing"))),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:"vipNumber"!==i.settingData.memberValidPeriod.type,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.memberValidPeriod.vipNumber,"vipNumberError")}},model:{value:i.settingData.memberValidPeriod.vipNumber,callback:function(t){i.$set(i.settingData.memberValidPeriod,"vipNumber","string"==typeof t?t.trim():t)},expression:"settingData.memberValidPeriod.vipNumber"}}),i._v("\n                            "+i._s(i.$t("freezeCardForTimes")))],1),i._v(" "),i.error.vipNumberError?r("div",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"110px"}},[i._v(i._s(i.error.vipNumberError))]):i._e()])],1)],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("invalidCouponRemind")))]),i._v(" "),r("div",{class:{"ivu-form-item-error":i.error.dayError,main:!0}},[r("i-switch",{model:{value:i.settingData.notificationBeforeCouponExpire.isSwitch,callback:function(t){i.$set(i.settingData.notificationBeforeCouponExpire,"isSwitch",t)},expression:"settingData.notificationBeforeCouponExpire.isSwitch"}}),i._v(" "),r("span",{staticClass:"text"},[i._v(i._s(i.$t("beforeInvalidCoupon"))),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:!i.settingData.notificationBeforeCouponExpire.isSwitch,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.notificationBeforeCouponExpire.day,"dayError")}},model:{value:i.settingData.notificationBeforeCouponExpire.day,callback:function(t){i.$set(i.settingData.notificationBeforeCouponExpire,"day","string"==typeof t?t.trim():t)},expression:"settingData.notificationBeforeCouponExpire.day"}}),i._v(" "+i._s(i.$t("smsRemindsBeforeDays"))+"，"),i._v(" "),r("span",{staticClass:"blue-color"},[i._v(i._s(i.$t("smsSetting")))])],1),i._v(" "),i.error.dayError?r("div",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"145px"}},[i._v(i._s(i.error.dayError))]):i._e()],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("isReturnIntegral")))]),i._v(" "),r("div",{staticClass:"main"},[r("RadioGroup",{attrs:{vertical:""},model:{value:i.settingData.handingWithScoreGrowthWhileRefund.score,callback:function(t){i.$set(i.settingData.handingWithScoreGrowthWhileRefund,"score",t)},expression:"settingData.handingWithScoreGrowthWhileRefund.score"}},[r("Radio",{attrs:{label:"false"}},[r("span",[i._v(i._s(i.$t("noReturnIntegral")))])]),i._v(" "),r("Radio",{attrs:{label:"true"}},[r("span",[i._v(i._s(i.$t("returnIntegral")))])])],1)],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("isReturnCoupon")))]),i._v(" "),r("div",{staticClass:"main"},[r("RadioGroup",{attrs:{vertical:""},model:{value:i.settingData.handingWithScoreGrowthWhileRefund.coupon,callback:function(t){i.$set(i.settingData.handingWithScoreGrowthWhileRefund,"coupon",t)},expression:"settingData.handingWithScoreGrowthWhileRefund.coupon"}},[r("Radio",{attrs:{label:"false"}},[r("span",[i._v(i._s(i.$t("noReturnCoupon")))])]),i._v(" "),r("Radio",{attrs:{label:"true"}},[r("span",[i._v(i._s(i.$t("returnCoupon")))])])],1)],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("modifyAccBalanceSetting")))]),i._v(" "),r("div",{staticClass:"main"},[r("RadioGroup",{attrs:{vertical:""},model:{value:i.settingData.allowAdjustAccount,callback:function(t){i.$set(i.settingData,"allowAdjustAccount",t)},expression:"settingData.allowAdjustAccount"}},[r("Radio",{attrs:{label:"false"}},[r("span",[i._v(i._s(i.$t("notAllowModifyAcc")))])]),i._v(" "),r("Radio",{attrs:{label:"true"}},[r("span",[i._v(i._s(i.$t("allowModifyAccReason"))),i._v(" "),"true"===i.settingData.allowAdjustAccount?r("span",{staticClass:"add-span blue-color",on:{click:i.handleAddReason}},[i._v("+ "+i._s(i.$t("addModifyReason")))]):i._e()])])],1),i._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"true"===i.settingData.allowAdjustAccount,expression:"settingData.allowAdjustAccount === 'true' ? true : false"}],staticClass:"ivu-form-item-wrap margin-left-50"},i._l(i.formDynamic.reason,function(e,a){return e._status?r("FormItem",{key:a,attrs:{label:"",prop:"reason."+a+".reason",rules:[{required:!0,message:i.$t("errorEmpty",{msg:i.$t("modifyReason")}),trigger:"blur"},{validator:i.emoji,trigger:"blur"}]}},[r("Input",{attrs:{type:"text",disabled:e.disabled,maxlength:100,placeholder:i.$t("inputField",{field:""})},model:{value:e.reason,callback:function(t){i.$set(e,"reason","string"==typeof t?t.trim():t)},expression:"item.reason"}}),i._v(" "),e.active&&0<a?r("span",{staticClass:"span-bottom red-color",on:{click:function(t){i.deleteReason(e,a)}}},[i._v(i._s(i.$t("del")))]):i._e(),i._v(" "),e.active?i._e():r("span",{staticClass:"span-bottom blue-color",on:{click:function(t){i.handleSubmitForReason(e,a)}}},[i._v(i._s(i.$t("save")))]),i._v(" "),e.active?i._e():r("span",{staticClass:"span-bottom grey-color",on:{click:function(t){i.handleResetReason(e,a)}}},[i._v(i._s(i.$t("cancel")))])],1):i._e()}))],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("credentialsTypeSetting"))),i._v(" "),r("span",{staticClass:"blue-color add-span",on:{click:i.handleAddIdType}},[i._v("+ "+i._s(i.$t("addCredentialsType")))])]),i._v(" "),r("div",{staticClass:"main"},[r("div",{staticClass:"ivu-form-item-wrap short-wrap margin-left-50"},i._l(i.formDynamic.idType,function(e,a){return e._status?r("FormItem",{key:a,attrs:{label:"",prop:"idType."+a+".name",rules:[{required:!0,message:i.$t("errorEmpty",{msg:i.$t("credentialsType")}),trigger:"blur"},{validator:i.emoji,trigger:"blur"}]}},[r("Input",{attrs:{type:"text",disabled:e.disabled,maxlength:10,placeholder:i.$t("inputField",{field:""})},model:{value:e.name,callback:function(t){i.$set(e,"name","string"==typeof t?t.trim():t)},expression:"item.name"}}),i._v(" "),e.active&&0<a?r("span",{staticClass:"span-bottom red-color",on:{click:function(t){i.deleteDocument(e,a)}}},[i._v(i._s(i.$t("del")))]):i._e(),i._v(" "),e.active?i._e():r("span",{staticClass:"span-bottom blue-color",on:{click:function(t){i.handleSubmitForIdType(e,a)}}},[i._v(i._s(i.$t("save")))]),i._v(" "),e.active?i._e():r("span",{staticClass:"span-bottom grey-color",on:{click:function(t){i.handleResetDocument(e,a)}}},[i._v(i._s(i.$t("cancel")))])],1):i._e()}))])])])],1),i._v(" "),r("div",{staticClass:"btn-wrap"},[r("Button",{attrs:{type:"primary"},on:{click:i.save}},[i._v(i._s(i.$t("save")))]),i._v(" "),r("Button",{attrs:{type:"ghost"},on:{click:i.resetFieldFunc}},[i._v(i._s(i.$t("cancel")))])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(v,y,!1,function(t){a("i2LG")},"data-v-2ae54d26",null);e.default=b.exports},"1CNw":function(t,e){},"1I52":function(t,e){},"1Z2h":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("gyMJ"),r=a("DB50"),o=[{title:"code",minWidth:200,field:"id"},{title:"channelName",minWidth:300,field:"channelName"},{title:"remark",minWidth:200,field:"remark"},{title:"operate",minWidth:160,field:""}],n=a("drfI"),s=a("gs2Y"),l=a.n(s),c={components:{},data:function(){var i=this,t={emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}};return{visible:!1,title:"addChannel",formData:{channelName:"",remark:""},ruleValidate:{channelName:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("channelName")}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{max:10,message:this.$t("errorMaxLength",{field:this.$t("channelName"),length:10}),trigger:"blur"}],remark:[{validator:t.emoji,trigger:"blur"},{max:100,message:this.$t("errorMaxLength",{field:this.$t("remark"),length:100}),trigger:"blur"}]}}},methods:{show:function(t){t&&(this.title="modifyChannel",this.formData=l()({},t)),this.visible=!0},formValidateFunc:function(){var a=this;this.$refs.formValidate.validate(function(t){if(t){var e={channelName:a.formData.channelName,remark:a.formData.remark};"modifyChannel"===a.title&&(e.id=a.formData.id),a.updateChannelSet(e)}})},updateChannelSet:function(t){var e=this;i.a.post("updateChannelSet",t).then(function(t){t.success?(e.$Message.success(e.$t(e.title)+e.$t("successTip",{tip:""})+"！"),e.hide(),e.$emit("close-modal")):(console.log(t),e.$Message.warning("queryChannelSet "+e.$t("failureTip",{tip:"del"})+"！"))})},hide:function(){this.visible=!1,this.$refs.formValidate.resetFields(),this.formData={channelName:"",remark:""}}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:e.$t(e.title),"class-name":"add-channel-modal vertical-center-modal",width:"560","mask-closable":!1},on:{"on-cancel":e.hide},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"modal-body"},[a("Form",{ref:"formValidate",attrs:{model:e.formData,rules:e.ruleValidate,"label-width":110}},[a("div",{staticClass:"ivu-form-item-wrap"},[a("Form-item",{attrs:{label:e.$t("channelName")+"：",prop:"channelName"}},[a("Input",{attrs:{placeholder:e.$t("inputField",{field:""})},model:{value:e.formData.channelName,callback:function(t){e.$set(e.formData,"channelName","string"==typeof t?t.trim():t)},expression:"formData.channelName"}})],1)],1),e._v(" "),a("div",{staticClass:"ivu-form-item-wrap"},[a("Form-item",{attrs:{label:e.$t("remark")+"：",prop:"remark"}},[a("Input",{attrs:{type:"textarea",placeholder:e.$t("inputField",{field:""})},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark","string"==typeof t?t.trim():t)},expression:"formData.remark"}})],1)],1)])],1),e._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:e.formValidateFunc}},[e._v(e._s(e.$t("save")))]),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:e.hide}},[e._v(e._s(e.$t("cancel")))])],1)])},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("W20C")},"data-v-d14192ca",null).exports,m={components:{headerTabs:n.a,addChannelModal:u,tableCom:r.a},data:function(){return{routerName:"channelSetting",channelListHead:o,tableData:[]}},created:function(){this.queryList()},methods:{queryList:function(){var e=this;i.a.post("queryChannelSet",{pageNo:1,pageSize:99999,isDeleted:"false"}).then(function(t){t.success?e.tableData=t.data.data||[]:(console.log(t),e.$Message.warning("queryChannelSet "+$t("queryFailure")+"！"))})},showChannelModal:function(t,e){console.log(e),this.$refs.addChannel.show(e)},deleteChannel:function(t,e){var a=this;console.log(e),i.a.post("updateChannelSet",{id:e.id,isDeleted:"true"}).then(function(t){t.success?(a.$Message.success(a.$t("successTip",{tip:"del"})+"！"),a.queryList()):(console.log(t),a.$Message.warning("queryChannelSet "+a.$t("failureTip",{tip:"del"})+"！"))})}}},h={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"setting"},[i("header-tabs",{attrs:{"router-name":a.routerName}}),a._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"btn-wrap"},[i("Button",{attrs:{type:"primary"},on:{click:function(t){a.showChannelModal(t)}}},[a._v("+ "+a._s(a.$t("addChannel")))])],1),a._v(" "),i("div",{staticClass:"table-wrap"},[i("table-com",{attrs:{ofsetHeight:180,"column-data":a.channelListHead,"table-data":a.tableData,border:!0},scopedSlots:a._u([{key:"column0",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""}})}},{key:"column1",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""}})}},{key:"column2",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""}})}},{key:"column3",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,fixed:"right"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"blue-label",on:{click:function(t){a.showChannelModal(t,e.row)}}},[a._v(a._s(a.$t("modify")))]),a._v(" "),i("li",{staticClass:"red-label",on:{click:function(t){a.deleteChannel(t,e.row)}}},[a._v(a._s(a.$t("del")))])])]}}])})}}])})],1)]),a._v(" "),i("add-channel-modal",{ref:"addChannel",on:{"close-modal":a.queryList}})],1)},staticRenderFns:[]};var f=a("VU/8")(m,h,!1,function(t){a("ZtKB")},"data-v-41bf21de",null);e.default=f.exports},"20ia":function(t,e){},"2nHB":function(t,e){},"42vA":function(t,e){},"8ayV":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("gyMJ"),r=a("DB50"),o=[{title:"levelCode",minWidth:200,field:"id"},{title:"memberGrade",minWidth:140,field:"levelNum"},{title:"levelSetting",minWidth:140,field:"levelDesc"},{title:"growthRange",minWidth:150,field:"channelName"},{title:"remark",minWidth:280,field:"remark"},{title:"operate",minWidth:140,enMinWidth:160,field:""}],n=a("drfI"),s=a("2Uyi"),l=a("gs2Y"),c=a.n(l),d={components:{},data:function(){var r=this,t={emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(r.$t("errorIrregular"))):a()}},e=function(a,t,i){s.a.validateInteger(t).then(function(){i()}).catch(function(t){var e="";switch(a.field){case"levelNum":e="memberGrade";break;case"lowerGrowthValue":case"highestGrowthValue":e="memberGrowthValue"}i(r.$t(t,{field:r.$t(e)}))})};return{visible:!1,formData:{levelNum:"",levelDesc:"",lowerGrowthValue:"",highestGrowthValue:"",remark:""},ruleValidate:{levelNum:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("memberGrade")}),trigger:"blur"},{max:10,message:this.$t("errorMaxLength",{field:this.$t("memberGrade"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"},{validator:e,trigger:"blur"}],levelDesc:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("levelSetting")}),trigger:"blur"},{max:10,message:this.$t("errorMaxLength",{field:this.$t("levelSetting"),length:10}),trigger:"blur"},{validator:t.emoji,trigger:"blur"}],lowerGrowthValue:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("memberGrowthValue")}),trigger:"blur"},{max:10,message:this.$t("errorMaxLength",{field:this.$t("memberGrowthValue"),length:10}),trigger:"blur"},{validator:e,trigger:"blur"}],highestGrowthValue:[{required:!0,message:this.$t("errorEmpty",{msg:this.$t("memberGrowthValue")}),trigger:"blur"},{max:10,message:this.$t("errorMaxLength",{field:this.$t("memberGrowthValue"),length:10}),trigger:"blur"},{validator:e,trigger:"blur"},{validator:function(t,e,a){s.a.validateInteger(r.formData.lowerGrowthValue).then(function(){Number(r.formData.lowerGrowthValue)>Number(e)?a(new Error(r.$t("errorGreaterThan",{small:r.$t("startingValue"),big:r.$t("maximumValue")}))):a()}).catch(function(t){a(r.$t(t,{field:""}))})},trigger:"blur"}],remark:[{validator:t.emoji,trigger:"blur"},{max:20,message:this.$t("errorMaxLength",{field:this.$t("remark"),length:20}),trigger:"blur"}]}}},watch:{"formData.lowerGrowthValue":function(t){this.$refs.formValidate.validateField("highestGrowthValue")}},methods:{show:function(t){var e=this;t&&t.id&&(this.formData=c()({},t),this.formData.levelNum=-1<this.formData.levelNum?this.formData.levelNum+"":"",this.formData.lowerGrowthValue=-1<this.formData.lowerGrowthValue?this.formData.lowerGrowthValue+"":"",this.formData.highestGrowthValue=-1<this.formData.highestGrowthValue?this.formData.highestGrowthValue+"":"",setTimeout(function(){e.$refs.formValidate.validateField("highestGrowthValue")},300)),this.visible=!0},formValidateFunc:function(){var e=this;this.$refs.formValidate.validate(function(t){t&&e.updateMemberLevel(e.formData)})},updateMemberLevel:function(t){var e=this;i.a.post("updateMemberLevel",{id:t.id,levelNum:t.levelNum,levelDesc:t.levelDesc,lowerGrowthValue:t.lowerGrowthValue,highestGrowthValue:t.highestGrowthValue,remark:t.remark}).then(function(t){t.success?(e.$Message.success(e.$t("successTip",{tip:e.$t("operate")})+"！"),e.$emit("modify-success"),e.hide()):(console.log(t),e.$Message.warning(t.message?e.$t(t.message):"updateMemberLevel "+e.$t("failureTip",{tip:e.$t("operate")})+"！"))})},hide:function(){this.visible=!1,this.$refs.formValidate.resetFields(),this.formData={levelNum:"",levelDesc:"",lowerGrowthValue:"",highestGrowthValue:"",remark:""}}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:e.$t("memberLevelSetting"),"class-name":"add-member-modal vertical-center-modal",width:"560","mask-closable":!1},on:{"on-cancel":e.hide},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"modal-body"},[a("Form",{ref:"formValidate",attrs:{model:e.formData,rules:e.ruleValidate,"label-width":145}},[a("div",{staticClass:"ivu-form-item-wrap"},[a("Form-item",{attrs:{label:e.$t("memberGrade")+"：",prop:"levelNum"}},[a("Input",{attrs:{type:"text",placeholder:e.$t("inputField",{field:e.$t("memberGrade")})},model:{value:e.formData.levelNum,callback:function(t){e.$set(e.formData,"levelNum","string"==typeof t?t.trim():t)},expression:"formData.levelNum"}})],1)],1),e._v(" "),a("div",{staticClass:"ivu-form-item-wrap"},[a("Form-item",{attrs:{label:e.$t("gradeName")+"：",prop:"levelDesc"}},[a("Input",{attrs:{type:"text",placeholder:e.$t("inputField",{field:e.$t("memberLevelName")})},model:{value:e.formData.levelDesc,callback:function(t){e.$set(e.formData,"levelDesc","string"==typeof t?t.trim():t)},expression:"formData.levelDesc"}})],1)],1),e._v(" "),a("div",{staticClass:"ivu-form-item-wrap"},[a("Form-item",{attrs:{label:e.$t("memberGrowthRange")+"：",prop:"highestGrowthValue"}},[a("Input",{staticClass:"single-input",attrs:{placeholder:e.$t("inputField",{field:""})},model:{value:e.formData.lowerGrowthValue,callback:function(t){e.$set(e.formData,"lowerGrowthValue","string"==typeof t?t.trim():t)},expression:"formData.lowerGrowthValue"}}),e._v(" "),a("span",{staticClass:"split-line"},[e._v("–")]),e._v(" "),a("Input",{staticClass:"single-input",attrs:{placeholder:e.$t("inputField",{field:""})},model:{value:e.formData.highestGrowthValue,callback:function(t){e.$set(e.formData,"highestGrowthValue","string"==typeof t?t.trim():t)},expression:"formData.highestGrowthValue"}})],1)],1),e._v(" "),a("div",{staticClass:"ivu-form-item-wrap"},[a("Form-item",{attrs:{label:e.$t("remark")+"：",prop:"remark"}},[a("Input",{attrs:{type:"textarea",placeholder:e.$t("inputField",{field:""})},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark","string"==typeof t?t.trim():t)},expression:"formData.remark"}})],1)],1)])],1),e._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:e.formValidateFunc}},[e._v(e._s(e.$t("save")))]),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:e.hide}},[e._v(e._s(e.$t("cancel")))])],1)])},staticRenderFns:[]};var m=a("VU/8")(d,u,!1,function(t){a("1CNw")},"data-v-1a4a3198",null).exports,h=a("mvHQ"),f=a.n(h),p={components:{},data:function(){var r=this;return{validateNumber:function(t,e,a){s.a.validateInteger(Number(e)).then(function(){a()}).catch(function(t){a(r.$t(t,{field:""}))})},emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(r.$t("errorIrregular"))):a()},validateHigh:function(t,e,a){var i=t.field.split(".");s.a.validateInteger(Number(r.formData.tableData[i[1]].lowerGrowthValue)).then(function(){Number(r.formData.tableData[i[1]].lowerGrowthValue)>Number(e)?a(r.$t("startValBiggerThenMaxVal")):a()}).catch(function(t){a(r.$t(t,{field:""}))})},maxLength:function(t,e,a){var i=t.field.split(".");r.formData.tableData[i[1]].lowerGrowthValue&&10<r.formData.tableData[i[1]].lowerGrowthValue.length?a(r.$t("errorMaxLength",{field:"",length:10})):a()},visible:!1,formData:{tableData:[]},numberProps:["lowerGrowthValue","highestGrowthValue"],stringProps:["lowerGrowthValue","highestGrowthValue"]}},methods:{transPropsType:function(t,e){switch(e){case"number":return t?Number(t):0;case"string":return null!==t?String(t):""}},show:function(t){var i=this;if(t&&0<t.length){var e=c()([],t);e.forEach(function(t,e){for(var a in t)-1<i.stringProps.indexOf(a)&&(t[a]=i.transPropsType(t[a],"string"))}),this.formData.tableData=c()([],e)}this.visible=!0},save:function(){var i=this,r=[];c()([],this.formData.tableData).forEach(function(t,e){for(var a in t)-1<i.numberProps.indexOf(a)&&(t[a]=i.transPropsType(t[a],"number"));r.push({id:t.id,levelNum:t.levelNum,levelDesc:t.levelDesc,lowerGrowthValue:t.lowerGrowthValue,highestGrowthValue:t.highestGrowthValue})}),console.log(r),this.batchUpdateMemberLevels(r)},batchUpdateMemberLevels:function(t){var e=this;i.a.post("batchUpdateMemberLevels",{models:f()(t)}).then(function(t){t.success?(e.$Message.success(e.$t("successTip",{tip:e.$t("operate")})+"！"),e.$emit("modify-success"),e.hide()):e.$Message.warning(t.message?e.$t(t.message):"batchUpdateMemberLevels "+e.$t("failureTip",{tip:e.$t("operate")})+"！")})},formValidateFunc:function(){var e=this;this.$refs.formValidate.validate(function(t){t&&e.save()})},hide:function(){this.visible=!1,this.$refs.formValidate.resetFields()}}},g={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("Modal",{attrs:{title:a.$t("memberPromotionRules"),"class-name":"member-rule-modal vertical-center-modal",width:"560","mask-closable":!1},on:{"on-cancel":a.hide},model:{value:a.visible,callback:function(t){a.visible=t},expression:"visible"}},[i("div",{staticClass:"modal-body"},[i("Form",{ref:"formValidate",attrs:{model:a.formData,"label-width":170}},a._l(a.formData.tableData,function(e,t){return i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{key:t,attrs:{label:e.levelDesc+"：",prop:"tableData."+t+".highestGrowthValue",rules:[{validator:a.emoji,trigger:"blur"},{max:10,message:a.$t("errorMaxLength",{field:a.$t("value"),length:10}),trigger:"blur"},{validator:a.maxLength,trigger:"blur"},{validator:a.validateNumber,trigger:"blur"},{validator:a.validateHigh,trigger:"blur"}]}},[i("Input",{staticClass:"single-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:e.lowerGrowthValue,callback:function(t){a.$set(e,"lowerGrowthValue","string"==typeof t?t.trim():t)},expression:"item.lowerGrowthValue"}}),a._v(" "),i("span",{staticClass:"split-line"},[a._v("–")]),a._v(" "),i("Input",{staticClass:"single-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:e.highestGrowthValue,callback:function(t){a.$set(e,"highestGrowthValue","string"==typeof t?t.trim():t)},expression:"item.highestGrowthValue"}})],1)],1)}))],1),a._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:a.formValidateFunc}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.hide}},[a._v(a._s(a.$t("cancel")))])],1)])},staticRenderFns:[]};var v=a("VU/8")(p,g,!1,function(t){a("1I52")},"data-v-eb457c04",null).exports,y={components:{headerTabs:n.a,addMemberModal:m,memberRuleModal:v,tableCom:r.a},data:function(){return{routerName:"levelSetting",levelListHead:o,tableData:[]}},created:function(){this.queryList()},methods:{showAddMemberModal:function(t,e){console.log(e),this.$refs.addMember.show(e||null)},showRuleModal:function(){this.$refs.memberRule.show(this.tableData)},queryList:function(){var e=this;i.a.post("queryMemberLevels",{pageNo:1,pageSize:99999,isDeleted:"false"}).then(function(t){t.success?e.tableData=t.data.data||[]:(console.log(t),e.$Message.warning(t.message||"queryMemberLevels "+$t("queryFailure")+"！"))})},showChannelModal:function(t,e){this.$refs.addChannel.show(e)},deleteLevelInfo:function(t,e){var a=this;i.a.post("deleteMemberLevel",{id:e.id,lowerGrowthValue:e.lowerGrowthValue,highestGrowthValue:e.highestGrowthValue,isDeleted:"true"}).then(function(t){t.success?(a.$Message.success(a.$t("successTip",{tip:a.$t("del")})),a.queryList()):(console.log(t),a.$Message.error(t.message||a.$t("failureTip",{tip:a.$t("del")})))})}}},b={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"setting"},[i("header-tabs",{attrs:{"router-name":a.routerName}}),a._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"btn-wrap"},[i("Button",{attrs:{type:"primary",disabled:11<a.tableData.length},on:{click:a.showAddMemberModal}},[a._v("+ "+a._s(a.$t("addMemberLevel")))]),a._v(" "),i("Button",{attrs:{type:"primary",disabled:!(0<a.tableData.length)},on:{click:a.showRuleModal}},[a._v(a._s(a.$t("promotionSetting")))]),a._v(" "),i("span",{staticClass:"tips"},[a._v(a._s(a.$t("max12MemberLevels")))])],1),a._v(" "),i("div",{staticClass:"table-wrap"},[i("table-com",{attrs:{ofsetHeight:180,"column-data":a.levelListHead,"table-data":a.tableData,border:!0},scopedSlots:a._u([{key:"column3",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""},scopedSlots:a._u([{key:"default",fn:function(t){return[i("span",[a._v(a._s(t.row.lowerGrowthValue)+" - "+a._s(t.row.highestGrowthValue))])]}}])})}},{key:"column5",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,fixed:"right"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("ul",{staticClass:"operate-list"},[i("li",{staticClass:"blue-label",on:{click:function(t){a.showAddMemberModal(t,e.row)}}},[a._v(a._s(a.$t("modify")))]),a._v(" "),i("li",{staticClass:"red-label",on:{click:function(t){a.deleteLevelInfo(t,e.row)}}},[a._v(a._s(a.$t("del")))])])]}}])})}}])})],1)]),a._v(" "),i("add-member-modal",{ref:"addMember",on:{"modify-success":a.queryList}}),a._v(" "),i("member-rule-modal",{ref:"memberRule",on:{"modify-success":a.queryList}})],1)},staticRenderFns:[]};var _=a("VU/8")(y,b,!1,function(t){a("C+tf")},"data-v-0c71d80c",null);e.default=_.exports},BTTm:function(t,e){},"C+tf":function(t,e){},M0oL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({data:function(){return{}},methods:{}},i,!1,function(t){a("cwsu")},"data-v-d4280976",null);e.default=r.exports},"O61/":function(t,e){},UlGv:function(t,e){},W20C:function(t,e){},W4T1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("5dBV"),r=a.n(i),o=a("gBtx"),n=a.n(o),s=a("mvHQ"),l=a.n(s),c=a("fZjL"),d=a.n(c),u=a("pFYg"),m=a.n(u),h=a("gyMJ"),f=a("gs2Y"),p=a.n(f),g=a("2Uyi"),v=a("drfI"),y=a("DB50"),b={props:["length","table-data","send-data"],components:{tableCom:y.a},data:function(){var i=this,t={emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}};return{visible:!1,step:0,index:null,formData:{accountBelonging:"",accountName:"",unit:this.$t("yuan"),rate:"1",rateNumerator:"1",rateDenominator:"1",exchangeToCash:"false",corpusAppliedOrgId:[],donateAppliedOrgId:[]},ruleValidate:{accountBelonging:[{required:!0,message:this.$t("selectField",{msg:this.$t("accountOwnership")}),trigger:"change"},{validator:function(t,e,a){e&&!1===i.check?a(new Error(i.$t("accountRepeat"))):a()},trigger:"blur"}],accountName:[{validator:t.emoji,trigger:"blur"},{max:20,message:this.$t("errorMaxLength",{field:this.$t("accountName"),length:20}),trigger:"blur"}],unit:[{validator:t.emoji,trigger:"blur"},{max:10,message:this.$t("errorMaxLength",{field:this.$t("unit"),length:20}),trigger:"blur"}],rateDenominator:[{validator:t.emoji,trigger:"blur"},{validator:function(t,e,a){g.a.validateInteger(e).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t("storedValueRatio"),length:10}):i.$t(t,{field:i.$t("storedValueRatio")}))})},trigger:"blur"},{validator:function(t,e,a){g.a.validateInteger(i.formData.rateNumerator).then(function(){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t("storedValueRatio"),length:10}):i.$t(t,{field:i.$t("storedValueRatio")}))})},trigger:"blur"}]},selectData:[],moneyColumnData:[{title:"",minWidth:110,field:""},{title:"principalCanBeUsedInRangeSetting",minWidth:400,field:"orgName"}],sendColumnData:[{title:"",minWidth:110,field:""},{title:"complimentaryAmountCanBeUsedToSetTheRange",minWidth:400,field:"orgName"}],check:!0}},watch:{"formData.rateNumerator":function(t){this.$refs.formValidate.validateField("rateDenominator")}},methods:{show:function(t){this.index=this.length,t&&(this.formData=p()({},t.item),this.index=t.index),this.visible=!0},changeAccountBelonging:function(e){var t=this.tableData.find(function(t){return e===t.id});if(t){var a={accountBelonging:t.id,accountTypeId:""};this.existAccountBelong(a)}this.formData.accountName=t?t.orgName:""},existAccountBelong:function(t){var e=this;h.a.post("existAccountBelong",t).then(function(t){t.success?(e.check=!t.data,e.$refs.formValidate.validateField("accountBelonging")):e.$Message.warning(t.message||e.$t("failureTip",{tip:e.$t("modify")}))})},formValidateFunc:function(){var e=this;this.$refs.formValidate.validate(function(t){t&&e.check&&(e.step++,e.setSelectToTableForStep(e.step))})},handleSelectionChangeToMoney:function(t){this.selectData[0]=t},handleSelectionChangeToSend:function(t){this.selectData[1]=t},setSelectToTableForStep:function(t){var i=this;1===t&&setTimeout(function(){i.selectData[0]&&0<i.selectData[0].length&&i.selectData[0].forEach(function(a){i.tableData.forEach(function(t,e){a.id===t.id&&i.$refs.moneyMultiTablePlug&&i.$refs.moneyMultiTablePlug.toggleRowSelection(i.tableData[e],!0)})})},300),2===t&&setTimeout(function(){i.selectData[1]&&0<i.selectData[1].length&&i.selectData[1].forEach(function(a){i.sendData.forEach(function(t,e){a.id===t.id&&i.$refs.sendMultiTablePlug&&i.$refs.sendMultiTablePlug.toggleRowSelection(i.sendData[e],!0)})})},300)},hide:function(){this.visible=!1,this.formData={accountBelonging:"",accountName:"",unit:this.$t("yuan"),rate:"1",rateNumerator:"1",rateDenominator:"1",exchangeToCash:"false",corpusAppliedOrgId:[],donateAppliedOrgId:[]},0===this.step&&this.$refs.formValidate.resetFields(),this.selectData=[],this.index=null,this.step=0,this.$refs.moneyMultiTablePlug&&this.$refs.moneyMultiTablePlug.clearSelection(),this.$refs.sendMultiTablePlug&&this.$refs.sendMultiTablePlug.clearSelection()},nextStep:function(t){t?this.formValidateFunc():(this.step++,this.setSelectToTableForStep(this.step))},prevStep:function(){this.step--,this.setSelectToTableForStep(this.step)},save:function(){var a=this;this.formData.corpusAppliedOrgId=[],this.formData.donateAppliedOrgId=[],this.selectData&&0<this.selectData.length&&(this.selectData[0].forEach(function(t,e){a.formData.corpusAppliedOrgId.push(t.id)}),this.selectData[1].forEach(function(t,e){a.formData.donateAppliedOrgId.push(t.id)}));var t={typeModelJson:l()({id:"",accountName:this.formData.accountName}),extModelJson:l()({accountBelonging:this.formData.accountBelonging,unit:this.formData.unit,rate:(Number(this.formData.rateNumerator)/Number(this.formData.rateDenominator)).toFixed(2),exchangeToCash:this.formData.exchangeToCash,corpusAppliedOrgId:this.formData.corpusAppliedOrgId.join(","),donateAppliedOrgId:this.formData.donateAppliedOrgId.join(","),rateDenominator:this.formData.rateDenominator,rateNumerator:this.formData.rateNumerator})};console.log(t),this.updateMemberAccountDefine(t)},updateMemberAccountDefine:function(t){var e=this;h.a.post("updateMemberAccountDefine",t).then(function(t){t.success?(e.$Message.success(e.$t("successTip",{tip:e.$t("add")})),e.hide(),e.$emit("updata-list",{item:e.formData,index:e.index})):e.$Message.warning(t.message||e.$t("failureTip",{tip:e.$t("add")}))})}}},_={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("Modal",{attrs:{title:a.$t("newAccount"),"class-name":"add-account-modal vertical-center-modal",width:"560","mask-closable":!1},on:{"on-cancel":a.hide},model:{value:a.visible,callback:function(t){a.visible=t},expression:"visible"}},[i("div",{staticClass:"modal-body"},[i("div",{staticClass:"steps-wrap"},[i("Steps",{attrs:{current:a.step}},[i("Step",{attrs:{title:"",icon:"record"}}),a._v(" "),i("Step",{attrs:{title:"",icon:"record"}}),a._v(" "),i("Step",{attrs:{title:"",icon:"record"}})],1)],1),a._v(" "),0===a.step?[i("Form",{ref:"formValidate",attrs:{model:a.formData,rules:a.ruleValidate,"label-width":130}},[i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("accountOwnership"),prop:"accountBelonging"}},[i("Select",{on:{"on-change":a.changeAccountBelonging},model:{value:a.formData.accountBelonging,callback:function(t){a.$set(a.formData,"accountBelonging",t)},expression:"formData.accountBelonging"}},a._l(a.tableData,function(t,e){return i("Option",{key:e,attrs:{value:t.id}},[a._v("\n                                "+a._s(t.orgName)+"\n                            ")])}))],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("accountName"),prop:"accountName"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.accountName,callback:function(t){a.$set(a.formData,"accountName","string"==typeof t?t.trim():t)},expression:"formData.accountName"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("unit"),prop:"unit"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.unit,callback:function(t){a.$set(a.formData,"unit","string"==typeof t?t.trim():t)},expression:"formData.unit"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("storedValueRatio"),prop:"rateDenominator"}},[i("Input",{staticClass:"single-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.rateNumerator,callback:function(t){a.$set(a.formData,"rateNumerator","string"==typeof t?t.trim():t)},expression:"formData.rateNumerator"}}),a._v(" "),i("span",{staticStyle:{padding:"0 5px"}},[a._v(":")]),a._v(" "),i("Input",{staticClass:"single-input",attrs:{placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.rateDenominator,callback:function(t){a.$set(a.formData,"rateDenominator","string"==typeof t?t.trim():t)},expression:"formData.rateDenominator"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("FormItem",{attrs:{label:a.$t("whetherCashingIsAllowed")}},[i("RadioGroup",{model:{value:a.formData.exchangeToCash,callback:function(t){a.$set(a.formData,"exchangeToCash",t)},expression:"formData.exchangeToCash"}},[i("Radio",{attrs:{label:"true"}},[a._v(a._s(a.$t("allowCash")))]),a._v(" "),i("Radio",{attrs:{label:"false"}},[a._v(a._s(a.$t("notAllowCash")))])],1)],1)],1)])]:a._e(),a._v(" "),1===a.step?[i("table-com",{ref:"moneyMultiTablePlug",attrs:{"table-com-min-height":380,"column-data":a.moneyColumnData,"table-data":a.tableData,border:!1},on:{"selection-change":a.handleSelectionChangeToMoney},scopedSlots:a._u([{key:"column0",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,type:"selection"}})}}])})]:a._e(),a._v(" "),2===a.step?[i("table-com",{ref:"sendMultiTablePlug",attrs:{"table-com-min-height":380,"column-data":a.sendColumnData,"table-data":a.sendData,border:!1},on:{"selection-change":a.handleSelectionChangeToSend},scopedSlots:a._u([{key:"column0",fn:function(t){return i("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,type:"selection"}})}}])})]:a._e()],2),a._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[0===a.step?[i("Button",{attrs:{type:"primary"},on:{click:function(t){a.nextStep(!0)}}},[a._v(a._s(a.$t("nextStep")))]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.hide}},[a._v(a._s(a.$t("cancel")))])]:a._e(),a._v(" "),1===a.step?[i("Button",{attrs:{type:"primary"},on:{click:function(t){a.nextStep(!1)}}},[a._v(a._s(a.$t("nextStep")))]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.prevStep}},[a._v(a._s(a.$t("lastStep")))])]:a._e(),a._v(" "),2===a.step?[i("Button",{attrs:{type:"primary"},on:{click:a.save}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.prevStep}},[a._v(a._s(a.$t("lastStep")))])]:a._e()],2)])},staticRenderFns:[]};var D=a("VU/8")(b,_,!1,function(t){a("UlGv")},"data-v-3e858226",null).exports,$={props:["length","table-data"],components:{},watch:{"formData.rateNumerator":function(t){this.$refs.formValidate.validateField("rateDenominator")}},data:function(){var i=this,t={emoji:function(t,e,a){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}};return{visible:!1,index:null,formData:{accountBelonging:"",accountName:"",unit:"",rate:"",rateNumerator:"",rateDenominator:"",exchangeToCash:"",corpusAppliedOrgId:[],donateAppliedOrgId:[]},ruleValidate:{accountBelonging:[{required:!0,message:this.$t("selectField",{msg:this.$t("accountOwnership")}),trigger:"change"},{validator:function(t,e,a){e&&!1===i.check?a(new Error(i.$t("accountRepeat"))):a()},trigger:"blur"}],accountName:[{validator:t.emoji,trigger:"blur"},{max:10,message:this.$t("errorMaxLength",{field:this.$t("accountName"),length:10}),trigger:"blur"}],unit:[{validator:t.emoji,trigger:"blur"},{max:10,message:this.$t("errorMaxLength",{field:this.$t("unit"),length:10}),trigger:"blur"}],rateDenominator:[{validator:t.emoji,trigger:"blur"},{validator:function(t,e,a){g.a.validateInteger(e).then(function(){a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t("storedValueRatio"),length:10}):i.$t(t,{field:i.$t("storedValueRatio")}))})},trigger:"blur"},{validator:function(t,e,a){g.a.validateInteger(i.formData.rateNumerator).then(function(){e&&e.isUtf16()?a(new Error(i.$t("errorIrregular"))):a()}).catch(function(t){a("errorMaxLength"===t?i.$t(t,{field:i.$t("storedValueRatio"),length:10}):i.$t(t,{field:i.$t("storedValueRatio")}))})},trigger:"blur"}]},check:!0}},methods:{show:function(t){var e=this;if(this.index=this.length,t){var a=p()({},t.item);a.rateDenominator=t.item.rateDenominator?t.item.rateDenominator+"":"",a.rateNumerator=t.item.rateNumerator?t.item.rateNumerator+"":"",this.formData=p()({},a),this.index=t.index}this.visible=!0,setTimeout(function(){e.$refs.formValidate.validateField("rateDenominator")},300)},changeAccountBelonging:function(e){var t=this.tableData.find(function(t){return e===t.id});if(t){var a={accountBelonging:t.id,accountTypeId:this.formData.id};this.existAccountBelong(a)}},existAccountBelong:function(t){var e=this;h.a.post("existAccountBelong",t).then(function(t){t.success?(e.check=!t.data,e.$refs.formValidate.validateField("accountBelonging")):e.$Message.warning(t.message||e.$t("failureTip",{tip:e.$t("modify")}))})},formValidateFunc:function(){var a=this;this.$refs.formValidate.validate(function(t){if(t&&a.check){var e={typeModelJson:l()({id:a.formData.id||"",accountName:a.formData.accountName}),extModelJson:l()({accountBelonging:a.formData.accountBelonging,unit:a.formData.unit,rate:(Number(a.formData.rateNumerator)/Number(a.formData.rateDenominator)).toFixed(2),exchangeToCash:a.formData.exchangeToCash,corpusAppliedOrgId:a.formData.corpusAppliedOrgId,donateAppliedOrgId:a.formData.donateAppliedOrgId,rateDenominator:a.formData.rateDenominator,rateNumerator:a.formData.rateNumerator})};console.log(e),a.updateMemberAccountDefine(e)}})},updateMemberAccountDefine:function(t){var e=this;h.a.post("updateMemberAccountDefine",t).then(function(t){t.success?(e.$Message.success(e.$t("successTip",{tip:e.$t("modify")})),e.hide(),e.$emit("updata-list",{item:e.formData,index:e.index})):e.$Message.warning(t.message||e.$t("failureTip",{tip:e.$t("modify")}))})},hide:function(){this.visible=!1,this.formData={accountBelonging:"",accountName:"",unit:"",rate:"",rateNumerator:"",rateDenominator:"",exchangeToCash:"",corpusAppliedOrgId:[],donateAppliedOrgId:[]},this.index=null,this.$refs.formValidate.resetFields()}}},w={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("Modal",{attrs:{title:a.$t("editAccount"),"class-name":"modify-account-modal vertical-center-modal",width:"560","mask-closable":!1},on:{"on-cancel":a.hide},model:{value:a.visible,callback:function(t){a.visible=t},expression:"visible"}},[i("div",{staticClass:"modal-body"},[i("Form",{ref:"formValidate",attrs:{model:a.formData,rules:a.ruleValidate,"label-width":130}},[i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("accountOwnership"),prop:"accountBelonging"}},[i("Select",{attrs:{disabled:"true"===a.formData.defaultAccount},on:{"on-change":a.changeAccountBelonging},model:{value:a.formData.accountBelonging,callback:function(t){a.$set(a.formData,"accountBelonging",t)},expression:"formData.accountBelonging"}},a._l(a.tableData,function(t,e){return i("Option",{key:e,attrs:{value:t.id}},[a._v("\n                            "+a._s(t.orgName)+"\n                            ")])}))],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("accountName"),prop:"accountName"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""}),disabled:"true"===a.formData.defaultAccount},model:{value:a.formData.accountName,callback:function(t){a.$set(a.formData,"accountName","string"==typeof t?t.trim():t)},expression:"formData.accountName"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("unit"),prop:"unit"}},[i("Input",{attrs:{placeholder:a.$t("inputField",{field:""}),disabled:"true"===a.formData.defaultAccount},model:{value:a.formData.unit,callback:function(t){a.$set(a.formData,"unit","string"==typeof t?t.trim():t)},expression:"formData.unit"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("Form-item",{attrs:{label:a.$t("storedValueRatio"),prop:"rateDenominator"}},[i("Input",{staticClass:"single-input",attrs:{disabled:"true"===a.formData.defaultAccount,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.rateNumerator,callback:function(t){a.$set(a.formData,"rateNumerator","string"==typeof t?t.trim():t)},expression:"formData.rateNumerator"}}),a._v(" "),i("span",{staticStyle:{padding:"0 13px"}},[a._v(":")]),a._v(" "),i("Input",{staticClass:"single-input",attrs:{disabled:"true"===a.formData.defaultAccount,placeholder:a.$t("inputField",{field:""})},model:{value:a.formData.rateDenominator,callback:function(t){a.$set(a.formData,"rateDenominator","string"==typeof t?t.trim():t)},expression:"formData.rateDenominator"}})],1)],1),a._v(" "),i("div",{staticClass:"ivu-form-item-wrap"},[i("FormItem",{attrs:{label:a.$t("whetherCashingIsAllowed")}},[i("RadioGroup",{model:{value:a.formData.exchangeToCash,callback:function(t){a.$set(a.formData,"exchangeToCash",t)},expression:"formData.exchangeToCash"}},[i("Radio",{attrs:{label:"true"}},[a._v(a._s(a.$t("allowCash")))]),a._v(" "),i("Radio",{attrs:{label:"false"}},[a._v(a._s(a.$t("notAllowCash")))])],1)],1)],1)])],1),a._v(" "),i("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:a.formValidateFunc}},[a._v(a._s(a.$t("save")))]),a._v(" "),i("Button",{attrs:{type:"ghost"},on:{click:a.hide}},[a._v(a._s(a.$t("cancel")))])],1)])},staticRenderFns:[]};var C=a("VU/8")($,w,!1,function(t){a("O61/")},"data-v-29754f60",null).exports,T={props:["length","table-data"],components:{tableCom:y.a},data:function(){return{visible:!1,title:"",multipleSelection:[],type:"money",formData:{},index:null,moneyColumnData:[{title:"",minWidth:110,field:""},{title:"principalCanBeUsedInRangeSetting",minWidth:400,field:"orgName"}],sendColumnData:[{title:"",minWidth:110,field:""},{title:"complimentaryAmountCanBeUsedToSetTheRange",minWidth:400,field:"orgName"}]}},methods:{show:function(t,e){var i=this;if(this.type=e&&"money"!==e?(this.title=t.item.accountName+this.$t("defaultAccountScope"),"send"):(this.title=t.item.accountName+this.$t("defaultAccountPrincipalCanBeUsedInTheRangeSetting"),"money"),t){var a=p()({},t.item);a.corpusAppliedOrgId=t.item.corpusAppliedOrgId&&0<t.item.corpusAppliedOrgId.length?t.item.corpusAppliedOrgId.split(","):[],a.donateAppliedOrgId=t.item.donateAppliedOrgId&&0<t.item.donateAppliedOrgId.length?t.item.donateAppliedOrgId.split(","):[],this.formData=a,this.index=t.index}this.visible=!0,t&&setTimeout(function(){"money"===e&&i.formData.corpusAppliedOrgId&&0<i.formData.corpusAppliedOrgId.length&&i.formData.corpusAppliedOrgId.forEach(function(a){i.tableData.forEach(function(t,e){a===t.id&&i.$refs.moneyMultiTablePlug&&i.$refs.moneyMultiTablePlug.toggleRowSelection(i.tableData[e],!0)})}),"send"===e&&i.formData.donateAppliedOrgId&&0<i.formData.donateAppliedOrgId.length&&i.formData.donateAppliedOrgId.forEach(function(a){i.tableData.forEach(function(t,e){a===t.id&&i.$refs.sendMultiTablePlug&&i.$refs.sendMultiTablePlug.toggleRowSelection(i.tableData[e],!0)})})},300)},handleSelectionChange:function(t){this.multipleSelection=t},save:function(){var a=this;"send"===this.type?this.multipleSelection.forEach(function(t,e){a.formData.donateAppliedOrgId.push(t.id)}):this.multipleSelection.forEach(function(t,e){a.formData.corpusAppliedOrgId.push(t.id)});var t={typeModelJson:l()({id:this.formData.id,accountName:this.formData.accountName}),extModelJson:l()({accountBelonging:this.formData.accountBelonging,unit:this.formData.unit,rate:this.formData.rate,exchangeToCash:this.formData.exchangeToCash,corpusAppliedOrgId:0<this.formData.corpusAppliedOrgId.length?this.formData.corpusAppliedOrgId.join(","):"",donateAppliedOrgId:0<this.formData.donateAppliedOrgId.length?this.formData.donateAppliedOrgId.join(","):""})};console.log(t),this.updateMemberAccountDefine(t)},updateMemberAccountDefine:function(t){var e=this;h.a.post("updateMemberAccountDefine",t).then(function(t){t.success?(e.$Message.success(e.$t("successTip",{tip:e.$t("operate")})+"！"),e.hide(),e.$emit("updata-list",{item:e.formData,index:e.index})):e.$Message.warning(t.message||"updateMemberAccountDefine "+e.$t("failureTip",{tip:e.$t("operate")})+"！")})},hide:function(){this.visible=!1,this.title=this.$t("defaultAccountPrincipalCanBeUsedInTheRangeSetting"),this.$refs.moneyMultiTablePlug&&this.$refs.moneyMultiTablePlug.clearSelection(),this.$refs.sendMultiTablePlug&&this.$refs.sendMultiTablePlug.clearSelection(),this.formData={},this.multipleSelection=[],this.index=null}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:e.title,"class-name":"add-account-modal vertical-center-modal",width:"560","mask-closable":!1},on:{"on-cancel":e.hide},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"table-wrap"},["money"===e.type?[a("table-com",{ref:"moneyMultiTablePlug",attrs:{"table-com-min-height":450,"column-data":e.moneyColumnData,"table-data":e.tableData,border:!1},on:{"selection-change":e.handleSelectionChange},scopedSlots:e._u([{key:"column0",fn:function(t){return a("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,type:"selection"}})}}])})]:e._e(),e._v(" "),"send"===e.type?[a("table-com",{ref:"sendMultiTablePlug",attrs:{"table-com-min-height":450,"column-data":e.sendColumnData,"table-data":e.tableData,border:!1},on:{"selection-change":e.handleSelectionChange},scopedSlots:e._u([{key:"column0",fn:function(t){return a("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,type:"selection"}})}}])})]:e._e()],2)]),e._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",disabled:!(0<e.multipleSelection.length)},on:{click:e.save}},[e._v(e._s(e.$t("save")))]),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:e.hide}},[e._v(e._s(e.$t("cancel")))])],1)])},staticRenderFns:[]};var I=a("VU/8")(T,x,!1,function(t){a("42vA")},"data-v-36a01ce6",null).exports,S={props:["length","table-data"],components:{tableCom:y.a},data:function(){return{visible:!1,title:this.$t("addStoredSendRatio"),index:null,formData:{lowerValue:0,topValue:0,gift:0,scope:"",_status:1},multipleSelection:[],error:"",columnData:[{title:"",minWidth:110,field:""},{title:"principalCanBeUsedInRangeSetting",minWidth:400,field:"accountName"}]}},methods:{show:function(t,e){var i=this;e&&"add"!==e&&(this.title=this.$t("modifyProportionOfDonatedAmountOfStorageValue"),this.index=this.length),t&&(this.formData=e&&"add"!==e?p()({},t.item):t.item,this.index=t.index),this.visible=!0,t&&setTimeout(function(){t.item.scope&&JSON.parse(t.item.scope)&&0<JSON.parse(t.item.scope).length&&JSON.parse(t.item.scope).forEach(function(a){i.tableData.forEach(function(t,e){a.id===t.id&&i.$refs.ruleMultiTablePlug&&i.$refs.ruleMultiTablePlug.toggleRowSelection(i.tableData[e],!0)})})},300)},validateInput:function(t,e){return""!==t&&"null"!==t&&null!==t&&0!=t&&t?t&&10<t.length?(this.error=this.$t("errorMaxLength",{field:"",length:10}),!1):t&&t.isUtf16()?(this.error=this.$t("errorIrregular"),!1):!(this.error=""):0!=t&&t||!e?(this.error=this.$t("errorEmpty",{msg:""}),!1):!(this.error="")},save:function(){if(this.validateInput(this.formData.lowerValue,!0)&&this.validateInput(this.formData.topValue)&&this.validateInput(this.formData.gift)){if(Number(this.formData.lowerValue)>Number(this.formData.topValue))return void(this.error=this.$t("startValBiggerThenMaxVal",{msg:""}));var a=[];this.multipleSelection.forEach(function(t,e){a.push({id:t.id})}),this.formData.scope=l()(a),this.$emit("submit-date",{item:this.formData,index:this.index}),this.hide()}},handleSelectionChange:function(t){this.multipleSelection=t},hide:function(){this.visible=!1,this.formData={lowerValue:0,topValue:0,gift:0,scope:"",_status:1},this.multipleSelection=[],this.$refs.ruleMultiTablePlug&&this.$refs.ruleMultiTablePlug.clearSelection(),this.index=null,this.error=""}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:e.title,"class-name":"add-account-modal vertical-center-modal",width:"650","mask-closable":!1},on:{"on-cancel":e.hide},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"ivu-form-item-wrap"},[a("div",{staticClass:"send-money-wrap"},[a("span",{staticClass:"label"},[e._v(e._s(e.$t("recharge"))+"：")]),e._v(" "),a("Input",{staticClass:"single-input",attrs:{type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.validateInput(e.formData.lowerValue,!0)}},model:{value:e.formData.lowerValue,callback:function(t){e.$set(e.formData,"lowerValue","string"==typeof t?t.trim():t)},expression:"formData.lowerValue"}}),e._v(" –\n                "),a("Input",{staticClass:"single-input",attrs:{type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.validateInput(e.formData.topValue)}},model:{value:e.formData.topValue,callback:function(t){e.$set(e.formData,"topValue","string"==typeof t?t.trim():t)},expression:"formData.topValue"}}),e._v(" "+e._s(e.$t("sendGift"))+"\n                "),a("Input",{staticClass:"single-input",attrs:{type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.validateInput(e.formData.gift)}},model:{value:e.formData.gift,callback:function(t){e.$set(e.formData,"gift","string"==typeof t?t.trim():t)},expression:"formData.gift"}}),e._v(" "+e._s(e.$t("yuan"))+"\n               "),e.error?a("div",{staticClass:"ivu-form-item-error-tip"},[e._v(e._s(e.error))]):e._e()],1)]),e._v(" "),a("div",{staticClass:"title"},[e._v(e._s(e.$t("scopeOfApplicationOfTheRule"))+"：")]),e._v(" "),a("div",{staticClass:"table-wrap"},[a("table-com",{ref:"ruleMultiTablePlug",attrs:{"table-com-min-height":320,"column-data":e.columnData,"table-data":e.tableData,border:!1},on:{"selection-change":e.handleSelectionChange},scopedSlots:e._u([{key:"column0",fn:function(t){return a("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,type:"selection"}})}}])})],1)]),e._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",disabled:!(e.formData.topValue&&e.formData.gift&&0<e.multipleSelection.length)},on:{click:e.save}},[e._v(e._s(e.$t("save")))]),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:e.hide}},[e._v(e._s(e.$t("cancel")))])],1)])},staticRenderFns:[]};var E=a("VU/8")(S,k,!1,function(t){a("2nHB")},"data-v-066055aa",null).exports,M=a("YEFv"),V={components:{headerTabs:v.a,addAccountModal:D,modifyAccountModal:C,modifyRangeModal:I,sendRateModal:E,tableCom:y.a},data:function(){return{id:"",routerName:"fundSetting",settingData:{passwdForRechargeAccount:"",scoreGrowthFromCharging:{storedAndGrowthType:"",moneyToIntegrate:"",integrate:1,moneyToGrowth:"",growth:1},scoreGrowthEffModeWhileCharging:{storedType:"",storedTime:""},donateWhileRecharge:[]},copySetData:{},listAccountTable:[],payIndex:1,formDynamic:{pay:[]},tableData:[],columnData:[{title:"accountOwnership",minWidth:140,field:"accountBelonging"},{title:"accountName",minWidth:140,field:"accountName"},{title:"principal",minWidth:110,field:"id"},{title:"giftSum",minWidth:110,field:"id"},{title:"operate",minWidth:110,enMinWidth:140,field:"id"}],listAmountRangeTable:[],sendRangeTable:[],error:{moneyToIntegrateError:"",moneyToGrowthError:"",storedTimeError:""},boolProps:["storedAndGrowthType"],numberProps:["moneyToIntegrate","moneyToGrowth","storedTime"],stringProps:["moneyToIntegrate","moneyToGrowth","storedTime","storedAndGrowthType"]}},watch:{"settingData.scoreGrowthFromCharging.storedAndGrowthType":function(t,e){"true"!==t&&(this.error.moneyToIntegrateError="",this.error.moneyToGrowthError="")},"settingData.scoreGrowthEffModeWhileCharging.storedType":function(t,e){"checkout_after"!==t&&(this.error.storedTimeError="")}},created:function(){this.findBasicSet(),this.queryPaymentType(),this.queryMemberAccountDefine(),this.listAccount(),this.getSubNode()},methods:{transPropsType:function(t,e){switch(e){case"number":return t?Number(t):0;case"boolean":return"true"===t;case"string":return null!==t?String(t):""}},listAccount:function(){var e=this;h.a.post("listAccount",{}).then(function(t){t.success&&(e.listAccountTable=t.data||[])})},getSubNode:function(){var e=this;h.a.post("getSubNode",{orgType:"scenic",includeMe:"true"}).then(function(t){t.success&&(e.listAmountRangeTable=p()([],t.data),e.sendRangeTable=p()([],t.data))})},findBasicSet:function(){var r=this;h.a.post("findBasicSet",{}).then(function(t){if(t.success)if(t.data)if(r.id=t.data.id,t.data.id){var e={passwdForRechargeAccount:t.data.passwdForRechargeAccount||"true",scoreGrowthFromCharging:t.data.scoreGrowthFromCharging?JSON.parse(t.data.scoreGrowthFromCharging):r.settingData.scoreGrowthFromCharging,scoreGrowthEffModeWhileCharging:t.data.scoreGrowthEffModeWhileCharging?JSON.parse(t.data.scoreGrowthEffModeWhileCharging):r.settingData.scoreGrowthEffModeWhileCharging,donateWhileRecharge:t.data.donateWhileRecharge?JSON.parse(t.data.donateWhileRecharge):[]};for(var a in console.log(e),e)if(a&&"object"===m()(e[a])&&0<d()(e[a]).length)for(var i in e[a])-1<r.stringProps.indexOf(i)&&(e[a][i]=r.transPropsType(e[a][i],"string"));r.settingData=e,r.copySetData=p()({},e)}else r.copySetData=p()({},r.settingData);else r.copySetData=p()({},r.settingData)})},save:function(){if(this.checkInputFunc()){var t=p()({},this.settingData);for(var e in console.log(t),t)if(e&&"object"===m()(t[e])&&0<d()(t[e]).length)for(var a in t[e])-1<this.boolProps.indexOf(a)&&(t[e][a]=this.transPropsType(t[e][a],"boolean")),-1<this.numberProps.indexOf(a)&&(t[e][a]=this.transPropsType(t[e][a],"number"));t.id=this.id,console.log(t);var i={id:this.id,passwdForRechargeAccount:t.passwdForRechargeAccount,scoreGrowthFromCharging:l()(t.scoreGrowthFromCharging),scoreGrowthEffModeWhileCharging:l()(t.scoreGrowthEffModeWhileCharging),donateWhileRecharge:0<t.donateWhileRecharge.length?l()(t.donateWhileRecharge):""};console.log(i),this.basicSet(i)}},basicSet:function(t){var e=this;h.a.post("basicSet",t).then(function(t){t.success&&(e.$Message.success(e.$t("successTip",{tip:e.$t("saveStorageSetting")})),e.findBasicSet())})},resetFieldFunc:function(){this.copySetData!=={}&&(this.settingData=p()({},this.copySetData))},checkInputFunc:function(){return!("checkout_after"===this.settingData.scoreGrowthEffModeWhileCharging.storedType&&!this.checkInputBlurFunc(this.settingData.scoreGrowthEffModeWhileCharging.storedTime,"storedTimeError"))&&(!("true"===this.settingData.scoreGrowthFromCharging.storedAndGrowthType&&!this.checkInputBlurFunc(this.settingData.scoreGrowthFromCharging.moneyToIntegrate,"moneyToIntegrateError"))&&!("true"===this.settingData.scoreGrowthFromCharging.storedAndGrowthType&&!this.checkInputBlurFunc(this.settingData.scoreGrowthFromCharging.moneyToGrowth,"moneyToGrowthError")))},checkInputBlurFunc:function(t,e){if(!g.a.isNotEmpty(t))return this.error[e]=this.$t("inputField",{field:""}),!1;if(this.error[e]="",t&&t.isUtf16())return this.error[e]=this.$t("errorIrregular"),!1;if(this.error[e]="",!M.validator.isNumber(t))return this.error[e]=this.$t("integetError",{field:""}),!1;var a=String(t);return a.length<1?(this.error[e]=this.$t("errorMinLength",{field:"",length:1}),!1):10<a.length?(this.error[e]=this.$t("errorMaxLength",{field:"",length:10}),!1):n()(t)!==r()(t)?(this.error[e]=this.$t("integetError",{field:""}),!1):t<0||0==t?(this.error[e]=this.$t("fieldTypeError",{field:""}),!1):!(this.error[e]="")},queryPaymentType:function(){var a=this;this.formDynamic.pay=[],h.a.post("queryPaymentType",{isDeleted:"false",pageNo:1,pageSize:99999}).then(function(t){t.success&&t.data&&0<t.data.length&&t.data.forEach(function(t,e){t.index=e,t._status=1,t.active=!0,t.disabled=!0,a.formDynamic.pay.push(t)})})},updatePaymentType:function(t,e){var a=this;h.a.post("updatePaymentType",{payment:t.payment}).then(function(t){t.success&&(a.formDynamic.pay[e].disabled=!0,a.formDynamic.pay[e].active=!0,a.$Message.success(a.$t("successTip",{tip:a.$t("newCollectionMethod")})))})},deletePay:function(t,e){var a=this;h.a.post("updatePaymentType",{id:t.id,isDeleted:"true"}).then(function(t){t.success&&(a.$Message.success(a.$t("successTip",{tip:a.$t("delCollectionMethod")})),a.formDynamic.pay[e]._status=0)})},handleAddPay:function(){this.payIndex++,this.formDynamic.pay.push({payment:"",index:this.payIndex,_status:1,disabled:!1})},handleSubmitForPay:function(e,a){var i=this;this.$refs.formDynamic.validateField("pay."+a+".payment",function(t){""===t&&i.updatePaymentType(e,a)})},handleResetPay:function(t,e){this.$refs.formDynamic.resetFields("pay."+e+".payment"),this.formDynamic.pay[e]._status=0},handleRemoveSendRate:function(t,e){this.$Message.success(this.$t("successTip",{tip:"del"})+"!"),this.settingData.donateWhileRecharge.splice(e,1)},addSendRate:function(){var t=this.settingData.donateWhileRecharge.length;this.$refs.sendRate.show({item:{lowerValue:0,topValue:0,gift:0,scope:"",_status:1},index:t},"add")},submitAddSend:function(t){console.log(t),this.$set(this.settingData.donateWhileRecharge,t.index,t.item)},showSendRateModal:function(t,e){this.$refs.sendRate.show({item:t,index:e},"modify")},queryMemberAccountDefine:function(){var e=this;h.a.post("queryMemberAccountDefine",{accountType:"charging",pageNo:1,pageSize:99999}).then(function(t){t.success?e.tableData=t.data.data||[]:(console.log(t),e.$Message.warning(t.message||"queryMemberAccountDefine "+$t("queryFailure")+"！"))})},AddAccount:function(){var t={accountBelonging:"",accountName:"",unit:this.$t("yuan"),rate:"1",rateNumerator:"1",rateDenominator:"1",exchangeToCash:"false",corpusAppliedOrgId:[],donateAppliedOrgId:[]},e=this.tableData.length;this.$refs.addAccount.show({item:t,index:e})},submitFundsAccount:function(t){console.log(t),this.queryMemberAccountDefine()},showRangeModal:function(t,e,a){this.$refs.modifyRange.show({item:t,index:e},a)},showModifyAccountModal:function(t,e){this.$refs.modifyAccount.show({item:t,index:e})},showAccountBelongName:function(e){var t=this.listAmountRangeTable.find(function(t){return e===t.id});return t?this.$t(t.orgName):"-"}}},F={render:function(){var i=this,t=i.$createElement,r=i._self._c||t;return r("div",{staticClass:"setting"},[r("header-tabs",{attrs:{"router-name":i.routerName}}),i._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("StorePasswordSetting")))]),i._v(" "),r("div",{staticClass:"main"},[r("RadioGroup",{attrs:{vertical:""},model:{value:i.settingData.passwdForRechargeAccount,callback:function(t){i.$set(i.settingData,"passwdForRechargeAccount",t)},expression:"settingData.passwdForRechargeAccount"}},[r("Radio",{attrs:{label:"false"}},[r("span",[i._v(i._s(i.$t("consumeWithoutPass")))])]),i._v(" "),r("Radio",{attrs:{label:"true"}},[r("span",[i._v(i._s(i.$t("consumeWithPass")))]),i._v(" "),r("span",{staticClass:"yellow-color"},[i._v(i._s(i.$t("erCodeOrSmsToPass")))])])],1)],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("storeIntegetSetting")))]),i._v(" "),r("div",{staticClass:"main"},[r("RadioGroup",{attrs:{vertical:""},model:{value:i.settingData.scoreGrowthFromCharging.storedAndGrowthType,callback:function(t){i.$set(i.settingData.scoreGrowthFromCharging,"storedAndGrowthType",t)},expression:"settingData.scoreGrowthFromCharging.storedAndGrowthType"}},[r("Radio",{attrs:{label:"false"}},[r("span",[i._v(i._s(i.$t("storeWithouIntegetAGrowth")))])]),i._v(" "),r("Radio",{attrs:{label:"true"}},[r("span",[i._v(i._s(i.$t("storeWithouIntegetAGrowthNoRepeat")))])])],1),i._v(" "),r("div",{staticClass:"check-group-wrap"},[i._v(i._s(i.$t("recharge"))+"\n                    "),r("span",{class:{"ivu-form-item-error":i.error.moneyToIntegrateError}},[r("Input",{staticClass:"single-input",attrs:{disabled:"true"!==i.settingData.scoreGrowthFromCharging.storedAndGrowthType,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.scoreGrowthFromCharging.moneyToIntegrate,"moneyToIntegrateError")}},model:{value:i.settingData.scoreGrowthFromCharging.moneyToIntegrate,callback:function(t){i.$set(i.settingData.scoreGrowthFromCharging,"moneyToIntegrate","string"==typeof t?t.trim():t)},expression:"settingData.scoreGrowthFromCharging.moneyToIntegrate"}}),i._v(" "+i._s(i.$t("yuanSaved"))+"\n                        "),i.error.moneyToIntegrateError?r("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"92px"}},[i._v(i._s(i.error.moneyToIntegrateError))]):i._e()],1),i._v(" "),r("span",[i._v(" "+i._s(i.settingData.scoreGrowthFromCharging.integrate)+" "+i._s(i.$t("integral")))])]),i._v(" "),r("div",{staticClass:"check-group-wrap"},[i._v(i._s(i.$t("recharge"))+"\n                    "),r("span",{class:{"ivu-form-item-error":i.error.moneyToGrowthError}},[r("Input",{staticClass:"single-input",attrs:{disabled:"true"!==i.settingData.scoreGrowthFromCharging.storedAndGrowthType,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.scoreGrowthFromCharging.moneyToGrowth,"moneyToGrowthError")}},model:{value:i.settingData.scoreGrowthFromCharging.moneyToGrowth,callback:function(t){i.$set(i.settingData.scoreGrowthFromCharging,"moneyToGrowth","string"==typeof t?t.trim():t)},expression:"settingData.scoreGrowthFromCharging.moneyToGrowth"}}),i._v(" "+i._s(i.$t("yuanSaved"))+"\n                          "),i.error.moneyToGrowthError?r("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"92px"}},[i._v(i._s(i.error.moneyToGrowthError))]):i._e()],1),i._v(" "),r("span",[i._v(" "+i._s(i.settingData.scoreGrowthFromCharging.growth)+" "+i._s(i.$t("growth")))])])],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("storeIntegetRatioSetting")))]),i._v(" "),r("div",{staticClass:"main"},[r("RadioGroup",{attrs:{vertical:""},model:{value:i.settingData.scoreGrowthEffModeWhileCharging.storedType,callback:function(t){i.$set(i.settingData.scoreGrowthEffModeWhileCharging,"storedType",t)},expression:"settingData.scoreGrowthEffModeWhileCharging.storedType"}},[r("Radio",{attrs:{label:"immediately"}},[r("span",[i._v(i._s(i.$t("rechartSucEffective")))])]),i._v(" "),r("Radio",{class:{"ivu-form-item-error":i.error.growthTimeError},attrs:{label:"checkout_after"}},[r("span",[i._v(i._s(i.$t("rechartSuc")))]),i._v(" "),r("Input",{staticClass:"single-input",attrs:{disabled:"checkout_after"!==i.settingData.scoreGrowthEffModeWhileCharging.storedType,type:"text",placeholder:i.$t("inputField",{field:""})},on:{"on-blur":function(t){i.checkInputBlurFunc(i.settingData.scoreGrowthEffModeWhileCharging.storedTime,"growthTimeError")}},model:{value:i.settingData.scoreGrowthEffModeWhileCharging.storedTime,callback:function(t){i.$set(i.settingData.scoreGrowthEffModeWhileCharging,"storedTime","string"==typeof t?t.trim():t)},expression:"settingData.scoreGrowthEffModeWhileCharging.storedTime"}}),i._v(" "),r("span",[i._v(i._s(i.$t("hourLaterInvalid")))]),i._v(" "),i.error.growthTimeError?r("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"113px"}},[i._v(i._s(i.error.growthTimeError))]):i._e()],1)],1)],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("setProportionOfBonusAmountOfStorageValue"))+"\n                "),r("span",{staticClass:"add-span blue-color",on:{click:i.addSendRate}},[i._v("+ "+i._s(i.$t("add")))])]),i._v(" "),0<i.settingData.donateWhileRecharge.length?r("div",{staticClass:"main"},[r("div",{staticClass:"ivu-form-item-wrap"},[i._l(i.settingData.donateWhileRecharge,function(e,a){return[e._status?r("div",{key:a,staticClass:"send-money-wrap"},[r("span",{staticClass:"label"},[i._v(i._s(i.$t("recharge"))+"：")]),i._v(" "),r("Input",{staticClass:"single-input",attrs:{type:"text",value:e.lowerValue,disabled:"",placeholder:i.$t("inputField",{field:""})}}),i._v(" –\n                            "),r("Input",{staticClass:"single-input",attrs:{type:"text",value:e.topValue,disabled:"",placeholder:i.$t("inputField",{field:""})}}),i._v(" "+i._s(i.$t("sendGift"))+"\n                            "),r("Input",{staticClass:"single-input",attrs:{type:"text",value:e.gift,disabled:"",placeholder:i.$t("inputField",{field:""})}}),i._v(" "+i._s(i.$t("yuan"))+"\n                            "),r("span",{staticClass:"add-span blue-color",on:{click:function(t){i.showSendRateModal(e,a)}}},[i._v(i._s(i.$t("applicationScope")))]),i._v(" "),r("span",{staticClass:"add-span blue-color",on:{click:function(t){i.showSendRateModal(e,a)}}},[i._v(i._s(i.$t("modify")))]),i._v(" "),r("span",{staticClass:"add-span red-color",on:{click:function(t){i.handleRemoveSendRate(e,a)}}},[i._v(i._s(i.$t("del")))])],1):i._e()]})],2)]):i._e()]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("CollectionModeSetting"))+"\n                "),r("span",{staticClass:"blue-color add-span",on:{click:i.handleAddPay}},[i._v("+ "+i._s(i.$t("newCollectionMethod")))])]),i._v(" "),r("div",{staticClass:"main"},[r("Form",{ref:"formDynamic",attrs:{model:i.formDynamic,"label-width":20}},[r("div",{staticClass:"ivu-form-item-wrap short-wrap"},i._l(i.formDynamic.pay,function(e,a){return e._status?r("FormItem",{key:a,attrs:{label:"",prop:"pay."+a+".payment",rules:{required:!0,message:i.$t("CertificateTypeCannotBeEmpty"),trigger:"blur"}}},[r("Input",{attrs:{type:"text",disabled:e.disabled,placeholder:i.$t("inputField",{field:""})},model:{value:e.payment,callback:function(t){i.$set(e,"payment","string"==typeof t?t.trim():t)},expression:"item.payment"}}),i._v(" "),e.active&&0<a?r("span",{staticClass:"span-bottom red-color",on:{click:function(t){i.deletePay(e,a)}}},[i._v(i._s(i.$t("del")))]):i._e(),i._v(" "),e.active?i._e():r("span",{staticClass:"span-bottom blue-color",on:{click:function(t){i.handleSubmitForPay(e,a)}}},[i._v(i._s(i.$t("save")))]),i._v(" "),e.active?i._e():r("span",{staticClass:"span-bottom grey-color",on:{click:function(t){i.handleResetPay(e,a)}}},[i._v(i._s(i.$t("cancel")))])],1):i._e()}))])],1)]),i._v(" "),r("div",{staticClass:"content-item"},[r("div",{staticClass:"title"},[i._v(i._s(i.$t("storeValueAccountSettings"))+"\n                "),r("span",{staticClass:"add-span blue-color",on:{click:i.AddAccount}},[i._v("+ "+i._s(i.$t("newAccount")))])]),i._v(" "),r("div",{staticClass:"main"},[r("div",{staticClass:"table-wrap"},[r("table-com",{attrs:{"table-com-min-height":320,"column-data":i.columnData,"table-data":i.tableData,border:!1},scopedSlots:i._u([{key:"column0",fn:function(t){return r("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""},scopedSlots:i._u([{key:"default",fn:function(t){return[i._v("\n                                "+i._s(t.row.accountBelonging?i.showAccountBelongName(t.row.accountBelonging):"-")+"\n                            ")]}}])})}},{key:"column1",fn:function(t){return r("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth,"show-overflow-tooltip":""}})}},{key:"column2",fn:function(t){return r("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth},scopedSlots:i._u([{key:"default",fn:function(e){return[r("ul",{staticClass:"operate-list"},[r("li",{staticClass:"blue-label",on:{click:function(t){i.showRangeModal(e.row,e.$index,"money")}}},[i._v(i._s(i.$t("appSetting")))])])]}}])})}},{key:"column3",fn:function(t){return r("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth},scopedSlots:i._u([{key:"default",fn:function(e){return[r("ul",{staticClass:"operate-list"},[r("li",{staticClass:"blue-label",on:{click:function(t){i.showRangeModal(e.row,e.$index,"send")}}},[i._v(i._s(i.$t("appSetting")))])])]}}])})}},{key:"column4",fn:function(t){return r("el-table-column",{key:t.index,attrs:{label:t.title,prop:t.field,width:t.width,"min-width":t.minWidth},scopedSlots:i._u([{key:"default",fn:function(e){return[r("ul",{staticClass:"operate-list"},[r("li",{staticClass:"blue-label",on:{click:function(t){i.showModifyAccountModal(e.row,e.$index)}}},[i._v(i._s(i.$t("editAccount")))])])]}}])})}}])})],1)])])]),i._v(" "),r("div",{staticClass:"btn-wrap"},[r("Button",{attrs:{type:"primary"},on:{click:i.save}},[i._v(i._s(i.$t("save")))]),i._v(" "),r("Button",{attrs:{type:"ghost"},on:{click:i.resetFieldFunc}},[i._v(i._s(i.$t("cancel")))])],1),i._v(" "),r("add-account-modal",{ref:"addAccount",attrs:{length:i.tableData.length,"table-data":i.listAmountRangeTable,"send-data":i.sendRangeTable},on:{"updata-list":i.submitFundsAccount}}),i._v(" "),r("modify-account-modal",{ref:"modifyAccount",attrs:{length:i.tableData.length,"table-data":i.listAmountRangeTable},on:{"updata-list":i.submitFundsAccount}}),i._v(" "),r("modify-range-modal",{ref:"modifyRange",attrs:{length:i.tableData.length,"table-data":i.listAmountRangeTable},on:{"updata-list":i.submitFundsAccount}}),i._v(" "),r("send-rate-modal",{ref:"sendRate",attrs:{length:i.settingData.donateWhileRecharge.length,"table-data":i.listAccountTable},on:{"submit-date":i.submitAddSend}})],1)},staticRenderFns:[]};var N=a("VU/8")(V,F,!1,function(t){a("xRcx")},"data-v-44f6ecee",null);e.default=N.exports},ZtKB:function(t,e){},cwsu:function(t,e){},d0M3:function(t,e){},drfI:function(t,e,a){"use strict";var i={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"header"},a._l(a.routerList,function(e,t){return i("div",{staticClass:"router-item",on:{click:function(t){a.triggerLink(e)}}},[0<t?i("span",{staticClass:"split-line"}):a._e(),a._v(" "),i("span",{directives:[{name:"w-title",rawName:"v-w-title",value:a.$t(e.desc),expression:"$t(item.desc)"}],class:{name:!0,active:a.routerName===e.name}},[a._v(a._s(a.$t(e.desc)))])])}))},staticRenderFns:[]};var r=a("VU/8")({props:["routerName"],components:{},data:function(){return{routerList:[{name:"memberSetting",desc:"memberSetting"},{name:"channelSetting",desc:"channelSetting"},{name:"levelSetting",desc:"levelSetting"},{name:"growthSetting",desc:"growthSetting"},{name:"fundSetting",desc:"fundSetting"},{name:"consumeSetting",desc:"consumeSetting"}]}},methods:{triggerLink:function(t){this.$router.push({name:t.name})}}},i,!1,function(t){a("BTTm")},"data-v-04eb7a15",null);e.a=r.exports},i2LG:function(t,e){},jwXy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("5dBV"),r=a.n(i),o=a("gBtx"),n=a.n(o),s=a("mvHQ"),l=a.n(s),c=a("fZjL"),d=a.n(c),u=a("gyMJ"),m=a("gs2Y"),h=a.n(m),f=a("2Uyi"),p=a("drfI"),g=a("YEFv"),v={components:{headerTabs:p.a},data:function(){return{id:"",routerName:"growthSetting",settingData:{growthRateWhileConsume:{growthSet:"",growthSetValue:1},growthEffectiveMode:{growthType:"",growthTime:""},growthFromFamilies:""},copySetData:{},error:{growthSetError:"",growthTimeError:""},numberProps:["growthSet","growthTime"],stringProps:["growthSet","growthTime"]}},watch:{"settingData.growthEffectiveMode.growthType":function(t,e){"checkout_after"!==t&&(this.error.growthTimeError="")}},created:function(){this.findBasicSet()},methods:{transPropsType:function(t,e){switch(e){case"number":return t?Number(t):0;case"boolean":return"true"===t;case"string":return null!==t?String(t):""}},findBasicSet:function(){var r=this;u.a.post("findBasicSet",{}).then(function(t){if(t.success)if(t.data)if(r.id=t.data.id,t.data.growthFromFamilies){var e={growthRateWhileConsume:JSON.parse(t.data.growthRateWhileConsume),growthEffectiveMode:JSON.parse(t.data.growthEffectiveMode),growthFromFamilies:t.data.growthFromFamilies};for(var a in e)if(a&&0<d()(e[a]).length)for(var i in e[a])-1<r.stringProps.indexOf(i)&&(e[a][i]=r.transPropsType(e[a][i],"string"));console.log(e),r.settingData=e,r.copySetData=h()({},e)}else r.copySetData=h()({},r.settingData);else r.copySetData=h()({},r.settingData)})},save:function(){if(this.checkInputFunc()){var t=h()({},this.settingData);for(var e in t)if(e&&0<d()(t[e]).length)for(var a in t[e])-1<this.numberProps.indexOf(a)&&(t[e][a]=this.transPropsType(t[e][a],"number"));t.id=this.id,console.log(t);var i={id:this.id,growthRateWhileConsume:l()(this.settingData.growthRateWhileConsume),growthEffectiveMode:l()(this.settingData.growthEffectiveMode),growthFromFamilies:this.settingData.growthFromFamilies};console.log(i),this.basicSet(i)}},basicSet:function(t){var e=this;u.a.post("basicSet",t).then(function(t){t.success&&(e.$Message.success(e.$t("successTip",{tip:e.$t("saveGrowthSetting")})),e.findBasicSet())})},resetFieldFunc:function(){this.copySetData!=={}&&(this.settingData=h()({},this.copySetData))},checkInputFunc:function(){return!!this.checkInputBlurFunc(this.settingData.growthRateWhileConsume.growthSet,"growthSetError")&&!("checkout_after"===this.settingData.growthEffectiveMode.growthType&&!this.checkInputBlurFunc(this.settingData.growthEffectiveMode.growthTime,"growthTimeError"))},checkInputBlurFunc:function(t,e){if(!f.a.isNotEmpty(t))return this.error[e]=this.$t("inputField",{field:""}),!1;if(this.error[e]="",t&&t.isUtf16())return this.error[e]=this.$t("errorIrregular"),!1;if(this.error[e]="",!g.validator.isNumber(t))return this.error[e]=this.$t("integetError",{field:""}),!1;var a=String(t);return a.length<1?(this.error[e]=this.$t("errorMinLength",{field:"",length:1}),!1):10<a.length?(this.error[e]=this.$t("errorMaxLength",{field:"",length:10}),!1):n()(t)!==r()(t)?(this.error[e]=this.$t("integetError",{field:""}),!1):t<0||0==t?(this.error[e]=this.$t("fieldTypeError",{field:""}),!1):!(this.error[e]="")}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setting"},[a("header-tabs",{attrs:{"router-name":e.routerName}}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("growthSetting")))]),e._v(" "),a("div",{staticClass:"main"},[a("span",{staticClass:"text"},[e._v(e._s(e.$t("consume"))+"\n                    "),a("span",{class:{"ivu-form-item-error":e.error.growthSetError}},[a("Input",{staticClass:"single-input",attrs:{type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.checkInputBlurFunc(e.settingData.growthRateWhileConsume.growthSet,"growthSetError")}},model:{value:e.settingData.growthRateWhileConsume.growthSet,callback:function(t){e.$set(e.settingData.growthRateWhileConsume,"growthSet","string"==typeof t?t.trim():t)},expression:"settingData.growthRateWhileConsume.growthSet"}}),e._v(e._s(e.$t("yuanSaved"))+"\n                        "),e.error.growthSetError?a("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"40px"}},[e._v(e._s(e.error.growthSetError))]):e._e()],1),e._v(" "),a("span",[e._v(" "+e._s(e.settingData.growthRateWhileConsume.growthSetValue)+" "+e._s(e.$t("growth")))])])])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("growthValidSetting")))]),e._v(" "),a("div",{staticClass:"main"},[a("RadioGroup",{attrs:{vertical:""},model:{value:e.settingData.growthEffectiveMode.growthType,callback:function(t){e.$set(e.settingData.growthEffectiveMode,"growthType",t)},expression:"settingData.growthEffectiveMode.growthType"}},[a("Radio",{attrs:{label:"immediately"}},[a("span",[e._v(e._s(e.$t("effectAfterPayed")))])]),e._v(" "),a("Radio",{attrs:{label:"checkout"}},[a("span",[e._v(e._s(e.$t("effectAfterConsumption")))])]),e._v(" "),a("Radio",{class:{"ivu-form-item-error":e.error.growthTimeError},attrs:{label:"checkout_after"}},[a("span",[e._v(e._s(e.$t("afterConsumption"))+"\n                        "),a("Input",{staticClass:"single-input",attrs:{disabled:"checkout_after"!==e.settingData.growthEffectiveMode.growthType,type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.checkInputBlurFunc(e.settingData.growthEffectiveMode.growthTime,"growthTimeError")}},model:{value:e.settingData.growthEffectiveMode.growthTime,callback:function(t){e.$set(e.settingData.growthEffectiveMode,"growthTime","string"==typeof t?t.trim():t)},expression:"settingData.growthEffectiveMode.growthTime"}}),e._v("\n                            "+e._s(e.$t("hourLaterEffective")))],1),e._v(" "),e.error.growthTimeError?a("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"153px"}},[e._v(e._s(e.error.growthTimeError))]):e._e()])],1)],1)]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("parentCardGrowthValueSetting")))]),e._v(" "),a("div",{staticClass:"main"},[a("RadioGroup",{attrs:{vertical:""},model:{value:e.settingData.growthFromFamilies,callback:function(t){e.$set(e.settingData,"growthFromFamilies",t)},expression:"settingData.growthFromFamilies"}},[a("Radio",{attrs:{label:"true"}},[a("span",[e._v(e._s(e.$t("childCardGrowthValueSetting")))])]),e._v(" "),a("Radio",{attrs:{label:"false"}},[a("span",[e._v(e._s(e.$t("childCardGrowthSettingDesc")))])])],1)],1)])]),e._v(" "),a("div",{staticClass:"btn-wrap"},[a("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v(e._s(e.$t("save")))]),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:e.resetFieldFunc}},[e._v(e._s(e.$t("cancel")))])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(v,y,!1,function(t){a("d0M3")},"data-v-3685f96b",null);e.default=b.exports},wFE9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("5dBV"),r=a.n(i),o=a("gBtx"),n=a.n(o),s=a("mvHQ"),l=a.n(s),c=a("fZjL"),d=a.n(c),u=a("gyMJ"),m=a("gs2Y"),h=a.n(m),f=a("2Uyi"),p=a("drfI"),g=a("YEFv"),v={components:{headerTabs:p.a},data:function(){return{id:"",routerName:"consumeSetting",settingData:{scoreOffsetInConsumption:{type:!1,columns:{integrateToMoney:!1,integrate:"",money:"",highProportion:""},meanwhile:!1},scoreExToCharge:{donateType:!1,donateIntegrate:"",donateMoney:1},scoreInsufficientNotification:!1},copySetData:{},error:{integrateError:"",moneyError:"",highProportionError:"",donateIntegrateError:""},numberProps:["integrate","money","highProportion","donateIntegrate"],stringProps:["integrate","money","highProportion","donateIntegrate"]}},watch:{"settingData.scoreOffsetInConsumption.type":function(t,e){t?(this.settingData.scoreOffsetInConsumption.columns.integrateToMoney=!0,this.settingData.scoreOffsetInConsumption.meanwhile=!0):(this.settingData.scoreOffsetInConsumption.columns.integrateToMoney=!1,this.settingData.scoreOffsetInConsumption.meanwhile=!1,this.error.integrateError="",this.error.moneyError="",this.error.highProportionError="")},"settingData.scoreOffsetInConsumption.columns.integrateToMoney":function(t,e){t||(this.settingData.scoreOffsetInConsumption.type=!1,this.settingData.scoreOffsetInConsumption.meanwhile=!1,this.error.integrateError="",this.error.moneyError="",this.error.highProportionError="")},"settingData.scoreExToCharge.donateType":function(t,e){t||(this.error.donateIntegrateError="")}},created:function(){this.findBasicSet()},methods:{transPropsType:function(t,e){switch(e){case"number":return t?Number(t):0;case"boolean":return"true"===t;case"string":return null!==t?String(t):""}},findBasicSet:function(){var r=this;u.a.post("findBasicSet",{}).then(function(t){if(t.success)if(t.data){r.id=t.data.id;var e={scoreOffsetInConsumption:JSON.parse(t.data.scoreOffsetInConsumption),scoreExToCharge:JSON.parse(t.data.scoreExToCharge),scoreInsufficientNotification:!!t.data.scoreInsufficientNotification&&Boolean(t.data.scoreInsufficientNotification)};for(var a in console.log(e),e)if(a&&0<d()(e[a]).length)for(var i in e[a])-1<r.stringProps.indexOf(i)&&(e[a][i]=r.transPropsType(e[a][i],"string")),"columns"===i&&(e[a][i].integrate=r.transPropsType(e[a][i].integrate,"string"),e[a][i].money=r.transPropsType(e[a][i].money,"string"),e[a][i].highProportion=r.transPropsType(e[a][i].highProportion,"string"));r.settingData=e,r.copySetData=h()({},e)}else r.copySetData=h()({},r.settingData)})},save:function(){if(this.checkInputFunc()){var t=h()({},this.settingData);for(var e in t)if(e&&0<d()(t[e]).length)for(var a in t[e])-1<this.numberProps.indexOf(a)&&(t[e][a]=this.transPropsType(t[e][a],"number")),"columns"===a&&(t[e][a].integrate=this.transPropsType(t[e][a].integrate,"number"),t[e][a].money=this.transPropsType(t[e][a].money,"number"),t[e][a].highProportion=this.transPropsType(t[e][a].highProportion,"number"));t.id=this.id,console.log(t);var i={id:this.id,scoreOffsetInConsumption:l()(t.scoreOffsetInConsumption),scoreExToCharge:l()(t.scoreExToCharge),scoreInsufficientNotification:String(t.scoreInsufficientNotification)};console.log(i),this.basicSet(i)}},basicSet:function(t){var e=this;u.a.post("basicSet",t).then(function(t){t.success&&(e.$Message.success(e.$t("successTip",{tip:e.$t("saveCreditConsumptionSettings")})),e.findBasicSet())})},resetFieldFunc:function(){this.copySetData!=={}&&(this.settingData=h()({},this.copySetData))},checkInputFunc:function(){return!(this.settingData.scoreOffsetInConsumption.columns.integrateToMoney&&!this.checkInputBlurFunc(this.settingData.scoreOffsetInConsumption.columns.integrate,"integrateError"))&&(!(this.settingData.scoreOffsetInConsumption.columns.integrateToMoney&&!this.checkInputBlurFunc(this.settingData.scoreOffsetInConsumption.columns.money,"moneyError"))&&(!(this.settingData.scoreOffsetInConsumption.columns.integrateToMoney&&!this.checkInputBlurFunc(this.settingData.scoreOffsetInConsumption.columns.highProportion,"highProportionError"))&&!(this.settingData.scoreExToCharge.donateType&&!this.checkInputBlurFunc(this.settingData.scoreExToCharge.donateIntegrate,"donateIntegrateError"))))},checkInputBlurFunc:function(t,e){if(!f.a.isNotEmpty(t))return this.error[e]=this.$t("inputField",{field:""}),!1;if(this.error[e]="",t&&t.isUtf16())return this.error[e]=this.$t("errorIrregular"),!1;if(this.error[e]="",!g.validator.isNumber(t))return this.error[e]=this.$t("integetError",{field:""}),!1;var a=String(t);return a.length<1?(this.error[e]=this.$t("errorMinLength",{field:"",length:1}),!1):10<a.length?(this.error[e]=this.$t("errorMaxLength",{field:"",length:10}),!1):n()(t)!==r()(t)?(this.error[e]=this.$t("integetError",{field:""}),!1):t<0||0==t?(this.error[e]=this.$t("fieldTypeError",{field:""}),!1):!(this.error[e]="")}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"setting"},[a("header-tabs",{attrs:{"router-name":e.routerName}}),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("setRulesForMemberPointTransactionDeduction")))]),e._v(" "),a("div",{staticClass:"main"},[a("div",[a("i-switch",{model:{value:e.settingData.scoreOffsetInConsumption.type,callback:function(t){e.$set(e.settingData.scoreOffsetInConsumption,"type",t)},expression:"settingData.scoreOffsetInConsumption.type"}}),e._v(" "),a("span",{staticClass:"text"},[e._v(e._s(e.$t("allowsCreditTradingWhenCreditIsUsed")))])],1),e._v(" "),a("div",{staticClass:"check-group-wrap"},[a("Checkbox",{attrs:{disabled:!e.settingData.scoreOffsetInConsumption.columns.integrateToMoney},model:{value:e.settingData.scoreOffsetInConsumption.columns.integrateToMoney,callback:function(t){e.$set(e.settingData.scoreOffsetInConsumption.columns,"integrateToMoney",t)},expression:"settingData.scoreOffsetInConsumption.columns.integrateToMoney"}},[e._v(e._s(e.$t("consumeSettingPer")))]),e._v(" "),a("span",{class:{"ivu-form-item-error":e.error.integrateError}},[a("Input",{staticClass:"single-input",attrs:{disabled:!e.settingData.scoreOffsetInConsumption.columns.integrateToMoney,type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.checkInputBlurFunc(e.settingData.scoreOffsetInConsumption.columns.integrate,"integrateError")}},model:{value:e.settingData.scoreOffsetInConsumption.columns.integrate,callback:function(t){e.$set(e.settingData.scoreOffsetInConsumption.columns,"integrate","string"==typeof t?t.trim():t)},expression:"settingData.scoreOffsetInConsumption.columns.integrate"}}),e._v(" "),e.error.integrateError?a("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"296px"}},[e._v(e._s(e.error.integrateError))]):e._e()],1),e._v(" "),a("span",[e._v(e._s(e.$t("pointsDeduction")))]),e._v(" "),a("span",{class:{"ivu-form-item-error":e.error.moneyError}},[a("Input",{staticClass:"single-input",attrs:{disabled:!e.settingData.scoreOffsetInConsumption.columns.integrateToMoney,type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.checkInputBlurFunc(e.settingData.scoreOffsetInConsumption.columns.money,"moneyError")}},model:{value:e.settingData.scoreOffsetInConsumption.columns.money,callback:function(t){e.$set(e.settingData.scoreOffsetInConsumption.columns,"money","string"==typeof t?t.trim():t)},expression:"settingData.scoreOffsetInConsumption.columns.money"}}),e._v(" "),e.error.moneyError?a("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"485px"}},[e._v(e._s(e.error.moneyError))]):e._e()],1),e._v(" "),a("span",[e._v(e._s(e.$t("deductionToOrder")))]),e._v(" "),a("span",{class:{"ivu-form-item-error":e.error.highProportionError}},[a("Input",{staticClass:"single-input",attrs:{disabled:!e.settingData.scoreOffsetInConsumption.columns.integrateToMoney,type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.checkInputBlurFunc(e.settingData.scoreOffsetInConsumption.columns.highProportion,"highProportionError")}},model:{value:e.settingData.scoreOffsetInConsumption.columns.highProportion,callback:function(t){e.$set(e.settingData.scoreOffsetInConsumption.columns,"highProportion","string"==typeof t?t.trim():t)},expression:"settingData.scoreOffsetInConsumption.columns.highProportion"}}),e._v(" "),e.error.highProportionError?a("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"795px"}},[e._v(e._s(e.error.highProportionError))]):e._e()],1),e._v(" "),a("span",[e._v("%")])],1),e._v(" "),a("div",{staticClass:"check-group-wrap"},[a("Checkbox",{attrs:{disabled:!e.settingData.scoreOffsetInConsumption.columns.integrateToMoney},model:{value:e.settingData.scoreOffsetInConsumption.meanwhile,callback:function(t){e.$set(e.settingData.scoreOffsetInConsumption,"meanwhile",t)},expression:"settingData.scoreOffsetInConsumption.meanwhile"}},[e._v(e._s(e.$t("canUseItTogetherWithCoupons")))])],1)])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("canAllIntegerToMoney")))]),e._v(" "),a("div",{staticClass:"main"},[a("div",[a("i-switch",{model:{value:e.settingData.scoreExToCharge.donateType,callback:function(t){e.$set(e.settingData.scoreExToCharge,"donateType",t)},expression:"settingData.scoreExToCharge.donateType"}}),e._v(" "),a("span",{staticClass:"text"},[e._v(e._s(e.$t("allIntegerToMoney")))])],1),e._v(" "),a("div",{staticClass:"check-group-wrap"},[e._v("\n                    "+e._s(e.$t("setTheExchangeRate"))+"：\n                    "),a("span",{class:{"ivu-form-item-error":e.error.donateIntegrateError}},[a("Input",{staticClass:"single-input",attrs:{disabled:!e.settingData.scoreExToCharge.donateType,type:"text",placeholder:e.$t("inputField",{field:""})},on:{"on-blur":function(t){e.checkInputBlurFunc(e.settingData.scoreExToCharge.donateIntegrate,"donateIntegrateError")}},model:{value:e.settingData.scoreExToCharge.donateIntegrate,callback:function(t){e.$set(e.settingData.scoreExToCharge,"donateIntegrate","string"==typeof t?t.trim():t)},expression:"settingData.scoreExToCharge.donateIntegrate"}}),e._v(" "),e.error.donateIntegrateError?a("span",{staticClass:"ivu-form-item-error-tip",staticStyle:{left:"176px"}},[e._v(e._s(e.error.donateIntegrateError))]):e._e()],1),e._v("\n                    "+e._s(e.$t("integral"))+"\n                    "),a("span",[e._v(" "+e._s(e.settingData.scoreExToCharge.donateMoney)+" "+e._s(e.$t("yuan")))])])])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"title"},[e._v(e._s(e.$t("pointsReturnedForRefund")))]),e._v(" "),a("div",{staticClass:"main"},[a("i-switch",{model:{value:e.settingData.scoreInsufficientNotification,callback:function(t){e.$set(e.settingData,"scoreInsufficientNotification",t)},expression:"settingData.scoreInsufficientNotification"}}),e._v(" "),a("span",{staticClass:"text"},[e._v(e._s(e.$t("consumeSettingTips")))])],1)])]),e._v(" "),a("div",{staticClass:"btn-wrap"},[a("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v(e._s(e.$t("save")))]),e._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:e.resetFieldFunc}},[e._v(e._s(e.$t("cancel")))])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(v,y,!1,function(t){a("20ia")},"data-v-980272a6",null);e.default=b.exports},xRcx:function(t,e){}});